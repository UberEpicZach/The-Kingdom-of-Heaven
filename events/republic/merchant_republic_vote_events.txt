# Written by Caden335

namespace = republic_vote_events

republic_vote_events.1001 = { # Senate Vote - War Declaration
	type = character_event
	title = republic_vote_events.1001.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_senate_vote_war_declaration
					}
				}
				desc = republic_vote_events.1001.desc.sv_war
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_leaders_discretion_war_declaration
					}
				}
				desc = republic_vote_events.1001.desc.ld_war
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_senate_vote_council_appointment
					}
				}
				desc = republic_vote_events.1001.desc.sv_council
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_leaders_discretion_council_appointment
					}
				}
				desc = republic_vote_events.1001.desc.ld_council
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_senate_vote_imprisonment_rights
					}
				}
				desc = republic_vote_events.1001.desc.sv_prison
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_leaders_discretion_imprisonment_rights
					}
				}
				desc = republic_vote_events.1001.desc.ld_prison
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_senate_vote_title_revocation
					}
				}
				desc = republic_vote_events.1001.desc.sv_revoke
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_leaders_discretion_title_revocation
					}
				}
				desc = republic_vote_events.1001.desc.ld_revoke
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_senate_vote_title_granting
					}
				}
				desc = republic_vote_events.1001.desc.sv_grant
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_leaders_discretion_title_granting
					}
				}
				desc = republic_vote_events.1001.desc.ld_grant
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_life_title_term
					}
				}
				desc = republic_vote_events.1001.desc.life_term
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_twenty_year_term
					}
				}
				desc = republic_vote_events.1001.desc.twenty_term
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_ten_year_term
					}
				}
				desc = republic_vote_events.1001.desc.ten_term
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_four_year_term
					}
				}
				desc = republic_vote_events.1001.desc.four_term
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_two_year_term
					}
				}
				desc = republic_vote_events.1001.desc.two_term
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_one_year_term
					}
				}
				desc = republic_vote_events.1001.desc.one_term
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:war_proposal
					}
				}
				desc = republic_vote_events.1001.desc.war_prop
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:council_proposal
					}
				}
				desc = republic_vote_events.1001.desc.council_prop
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:imprisonment_proposal
					}
				}
				desc = republic_vote_events.1001.desc.prison_prop
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:revocation_proposal
					}
				}
				desc = republic_vote_events.1001.desc.revoke_prop
			}
			triggered_desc = {
				trigger = {
					exists = scope:grant_target
				}
				desc = republic_vote_events.1001.desc.grant_prop
			}
		}
	}
	trigger = {
		NOT = {
			exists = var:you_voted
		}
	}
	left_portrait = {
		character = root
		animation = personality_bold
	}
	theme = diplomacy
	immediate = {
		house = {
			var:titular_republic = {
				save_scope_as = titular_republic
			}
		}
		if = {
			limit = { scope:titular_republic = { exists = var:war_proposal } }
			scope:titular_republic = {
				var:proposed_war_target = {
					save_scope_as = war_enemy
				}
			}
		}
		if = {
			limit = { scope:titular_republic = { exists = var:grants_proposal } }
			scope:titular_republic = {
				var:proposed_grant_target = {
					save_scope_as = grant_target
				}
			}
		}
		if = {
			limit = { scope:titular_republic = { exists = var:revocation_proposal } }
			scope:titular_republic = {
				var:proposed_revoke_target = {
					save_scope_as = revoke_target
				}
			}
		}
		if = {
			limit = { scope:titular_republic = { exists = var:council_proposal } }
			scope:titular_republic = {
				var:proposed_councilor = {
					save_scope_as = proposed_councilor
				}
			}
		}
		if = {
			limit = { scope:titular_republic = { exists = var:imprisonment_proposal } }
			scope:titular_republic = {
				var:proposed_prison_target = {
					save_scope_as = prison_target
				}
			}
		}
	}

	option = { # Yea
		name = republic_vote_events.1001.a
		custom_tooltip = ALL_VOTES_AYE
		ai_chance = {
			base = 100
			senate_vote_war_declaration_modifier = yes
			leaders_discretion_war_declaration_modifier = yes
			senate_vote_war_declaration_modifier = yes
			senate_vote_council_appointment_modifier = yes
			leaders_discretion_council_appointment_modifier = yes
			senate_vote_imprisonment_rights_modifier = yes
			leaders_discretion_imprisonment_rights_modifier = yes
			senate_vote_title_revocation_modifier = yes
			leaders_discretion_title_revocation_modifier = yes
			senate_vote_title_granting_modifier = yes
			leaders_discretion_title_granting_modifier = yes
			life_title_term_modifier = yes
			twenty_year_term_modifier = yes
			ten_year_term_modifier = yes
			four_year_term_modifier = yes
			two_year_term_modifier = yes
			one_year_term_modifier = yes
			war_proposal_modifier = yes
			title_grants_proposal_modifier = yes
			title_revocation_proposal_modifier = yes
			imprisonment_proposal_modifier = yes
			council_appointment_proposal_modifier = yes
		}
		scope:titular_republic = {
			every_in_list = {
				variable = republic_families_list
				limit = { has_variable = house_votes_yea }
				every_house_member = {
					add_opinion = {
						target = root
						modifier = voted_similarly
					}
				}
			}
			every_in_list = {
				variable = republic_families_list
				limit = { has_variable = house_votes_nay }
				every_house_member = {
					add_opinion = {
						target = root
						modifier = voted_differently
					}
				}
			}
		}
		set_variable = you_voted
		every_in_list = {
			variable = blackmailing_house_heads
			remove_variable = house_votes_nay
			set_variable = house_votes_yea
		}
		house = { set_variable = house_votes_yea }
	}

	option = { # Nay
		name = republic_vote_events.1001.b
		custom_tooltip = ALL_VOTES_NAY
		ai_chance = {
			base = 130
		}
		scope:titular_republic = {
			every_in_list = {
				variable = republic_families_list
				limit = { has_variable = house_votes_nay }
				every_house_member = {
					add_opinion = {
						target = root
						modifier = voted_similarly
					}
				}
			}
			every_in_list = {
				variable = republic_families_list
				limit = { has_variable = house_votes_yea }
				every_house_member = {
					add_opinion = {
						target = root
						modifier = voted_differently
					}
				}
			}
		}
		set_variable = you_voted
		every_in_list = {
			variable = blackmailing_house_heads
			remove_variable = house_votes_yea
			set_variable = house_votes_nay
		}
		house = { set_variable = house_votes_nay }
	}
}

republic_vote_events.1002 = { # Vote Over
	type = character_event
	hidden = yes

	immediate = {
		if = {
			limit = { primary_title.all_votes_yea > primary_title.all_votes_nay }
			primary_title = {
				every_in_list = {
					variable = republic_families_list
					house_head = {
						trigger_event = republic_vote_events.1003
						set_variable = a
					}
				}
				if = {
					limit = { has_variable = law_voting_senate_vote_war_declaration }
					remove_variable = council_approval_war_declaration
					remove_variable = leaders_discretion_war_declaration
					set_variable = senate_vote_war_declaration
				}
				if = {
					limit = { has_variable = law_voting_leaders_discretion_war_declaration }
					remove_variable = council_approval_war_declaration
					set_variable = leaders_discretion_war_declaration
					remove_variable = senate_vote_war_declaration
				}
				if = {
					limit = { has_variable = law_voting_senate_vote_council_appointment }
					remove_variable = council_approval_council_appointment
					remove_variable = leaders_discretion_council_appointment
					set_variable = senate_vote_council_appointment
					holder = {
						every_councillor = {
							save_scope_as = council_new
							liege_or_court_owner = {
								primary_title = {
									add_to_variable_list = {
										name = valid_council_targets_list
										target = scope:council_new
									}
								}
							}
						}
					}
				}
				if = {
					limit = { has_variable = law_voting_leaders_discretion_council_appointment }
					remove_variable = council_approval_council_appointment
					set_variable = leaders_discretion_council_appointment
					remove_variable = senate_vote_council_appointment
				}
				if = {
					limit = { has_variable = law_voting_senate_vote_imprisonment_rights }
					remove_variable = council_approval_imprisonment_rights
					remove_variable = leaders_discretion_imprisonment_rights
					set_variable = senate_vote_imprisonment_rights
				}
				if = {
					limit = { has_variable = law_voting_leaders_discretion_imprisonment_rights }
					remove_variable = council_approval_imprisonment_rights
					set_variable = leaders_discretion_imprisonment_rights
					remove_variable = senate_vote_imprisonment_rights
				}
				if = {
					limit = { has_variable = law_voting_senate_vote_title_revocation }
					remove_variable = council_approval_title_revocation
					remove_variable = leaders_discretion_title_revocation
					set_variable = senate_vote_title_revocation
				}
				if = {
					limit = { has_variable = law_voting_leaders_discretion_title_revocation }
					remove_variable = council_approval_title_revocation
					set_variable = leaders_discretion_title_revocation
					remove_variable = senate_vote_title_revocation
				}
				if = {
					limit = { has_variable = law_voting_senate_vote_title_granting }
					remove_variable = council_approval_title_granting
					remove_variable = leaders_discretion_title_granting
					set_variable = senate_vote_title_granting
				}
				if = {
					limit = { has_variable = law_voting_leaders_discretion_title_granting }
					remove_variable = council_approval_title_granting
					set_variable = leaders_discretion_title_granting
					remove_variable = senate_vote_title_granting
				}
				if = {
					limit = { has_variable = law_voting_life_title_term }
					set_variable = life_title_term
					remove_variable = twenty_year_term
					remove_variable = ten_year_term
					remove_variable = four_year_term
					remove_variable = two_year_term
					remove_variable = one_year_term
				}
				if = {
					limit = { has_variable = law_voting_twenty_year_term }
					remove_variable = life_title_term
					set_variable = twenty_year_term
					remove_variable = ten_year_term
					remove_variable = four_year_term
					remove_variable = two_year_term
					remove_variable = one_year_term
				}
				if = {
					limit = { has_variable = law_voting_ten_year_term }
					remove_variable = life_title_term
					remove_variable = twenty_year_term
					set_variable = ten_year_term
					remove_variable = four_year_term
					remove_variable = two_year_term
					remove_variable = one_year_term
				}
				if = {
					limit = { has_variable = law_voting_four_year_term }
					remove_variable = life_title_term
					remove_variable = twenty_year_term
					remove_variable = ten_year_term
					set_variable = four_year_term
					remove_variable = two_year_term
					remove_variable = one_year_term
				}
				if = {
					limit = { has_variable = law_voting_two_year_term }
					remove_variable = life_title_term
					remove_variable = twenty_year_term
					remove_variable = ten_year_term
					remove_variable = four_year_term
					set_variable = two_year_term
					remove_variable = one_year_term
				}
				if = {
					limit = { has_variable = law_voting_one_year_term }
					remove_variable = life_title_term
					remove_variable = twenty_year_term
					remove_variable = ten_year_term
					remove_variable = four_year_term
					remove_variable = two_year_term
					set_variable = one_year_term
				}
				if = {
					limit = { has_variable = war_proposal }
					var:proposed_war_target = {
						save_scope_as = war_enemy
					}
					add_to_variable_list = {
						name = valid_war_targets_list
						target = scope:war_enemy
					}
				}
				if = {
					limit = { has_variable = council_proposal }
					var:proposed_councilor = {
						save_scope_as = proposed_councilor
					}
					add_to_variable_list = {
						name = valid_council_targets_list
						target = scope:proposed_councilor
					}
				}
				if = {
					limit = { has_variable = imprisonment_proposal }
					var:proposed_prison_target = {
						save_scope_as = new_prison
					}
					add_to_variable_list = {
						name = valid_prison_targets_list
						target = scope:new_prison
					}
				}
				if = {
					limit = { has_variable = revocation_proposal }
					var:proposed_revoke_target = {
						save_scope_as = revoke_target
					}
					add_to_variable_list = {
						name = valid_revocation_targets_list
						target = scope:revoke_target
					}
				}
				if = {
					limit = { has_variable = grants_proposal }
					var:proposed_grant_target = {
						save_scope_as = grant_target
					}
					add_to_variable_list = {
						name = valid_grant_targets_list
						target = scope:grant_target
					}
				}
				remove_list_variable = {
					name = proposed_laws_list
					target = scope:law_proposed
				}
			}
		}
		if = {
			limit = { primary_title.all_votes_yea <= primary_title.all_votes_nay }
			primary_title = {
				every_in_list = {
					variable = republic_families_list
					house_head = {
						trigger_event = republic_vote_events.1003
						set_variable = b
					}
				}
				remove_list_variable = {
					name = proposed_laws_list
					target = scope:law_proposed
				}
			}
		}
		primary_title = {
			every_in_list = {
				variable = republic_families
				remove_variable = house_votes_yea
				remove_variable = house_votes_nay
			}
		}
		if = {
			limit = {
				primary_title = {
					any_in_list = {
						variable = proposed_laws_list
						exists = this
					}
				}
			}
			trigger_event = {
				id = republic_vote_events.1004
				days = 2
			}
		}
	}
}

republic_vote_events.1003 = { # Senate Vote Results
	type = character_event
	title = republic_vote_events.1003.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_senate_vote_war_declaration
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.sv_war
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_leaders_discretion_war_declaration
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.ld_war
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_senate_vote_council_appointment
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.sv_council
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_leaders_discretion_council_appointment
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.ld_council
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_senate_vote_imprisonment_rights
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.sv_prison
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_leaders_discretion_imprisonment_rights
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.ld_prison
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_senate_vote_title_revocation
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.sv_revoke
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_leaders_discretion_title_revocation
						}
					}
				}
				desc = republic_vote_events.1003.desc.ld_revoke
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_senate_vote_title_granting
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.sv_grant
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_leaders_discretion_title_granting
						}
					}
				}
				desc = republic_vote_events.1003.desc.ld_grant
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_life_title_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.life_term
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_twenty_year_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.twenty_term
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_ten_year_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.ten_term
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_four_year_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.four_term
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_two_year_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.two_term
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_one_year_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.one_term
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:war_proposal
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.war_prop
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:council_proposal
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.council_prop
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:imprisonment_proposal
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.prison_prop
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:revocation_proposal
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.revoke_prop
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:grants_proposal
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1003.desc.grant_prop
			}
			triggered_desc = {
				trigger = {
					exists = var:b
				}
				desc = republic_vote_events.1003.desc.b
			}
		}
	}
	left_portrait = {
		character = root
		animation = personality_bold
	}
	theme = diplomacy

	immediate = {
		clear_variable_list = blackmailing_house_heads
	}

	option = { # Vote Passes Good
		name = republic_vote_events.1003.a
		trigger = { has_variable = a house = { has_variable = house_votes_yea } }
		house = { remove_variable = house_votes_yea remove_variable = house_votes_nay }
		remove_variable = a
		remove_variable = you_voted
		custom_tooltip = VOTE_PASSES
	}

	option = { # Vote Passes Bad
		name = republic_vote_events.1003.b
		trigger = { has_variable = a house = { has_variable = house_votes_nay } }
		house = { remove_variable = house_votes_yea remove_variable = house_votes_nay }
		remove_variable = a
		remove_variable = you_voted
		custom_tooltip = VOTE_PASSES
	}

	option = { # Vote Fails Good
		name = republic_vote_events.1003.c
		trigger = { has_variable = b house = { has_variable = house_votes_nay } }
		house = { remove_variable = house_votes_yea remove_variable = house_votes_nay }
		remove_variable = b
		remove_variable = you_voted
		custom_tooltip = VOTE_FAILS
	}

	option = { # Vote Fails Bad
		name = republic_vote_events.1003.d
		trigger = { has_variable = b house = { has_variable = house_votes_yea } }
		house = { remove_variable = house_votes_yea remove_variable = house_votes_nay }
		remove_variable = b
		remove_variable = you_voted
		custom_tooltip = VOTE_FAILS
	}
}

republic_vote_events.1004 = { # Vote Over
	type = character_event
	hidden = yes

	immediate = {
		primary_title = {
			remove_variable = law_voting_senate_vote_war_declaration
			remove_variable = law_voting_leaders_discretion_war_declaration
			remove_variable = law_voting_senate_vote_council_appointment
			remove_variable = law_voting_leaders_discretion_council_appointment
			remove_variable = law_voting_senate_vote_imprisonment_rights
			remove_variable = law_voting_leaders_discretion_imprisonment_rights
			remove_variable = law_voting_senate_vote_title_revocation
			remove_variable = law_voting_leaders_discretion_title_revocation
			remove_variable = law_voting_senate_vote_title_granting
			remove_variable = law_voting_leaders_discretion_title_granting
			remove_variable = law_voting_life_title_term
			remove_variable = law_voting_twenty_year_term
			remove_variable = law_voting_ten_year_term
			remove_variable = law_voting_four_year_term
			remove_variable = law_voting_two_year_term
			remove_variable = law_voting_one_year_term
			remove_variable = war_proposal
			remove_variable = council_proposal
			remove_variable = imprisonment_proposal
			remove_variable = grants_proposal
			remove_variable = revocation_proposal
			trigger_election_cycle = yes
		}
	}
}


republic_vote_events.1005 = { # Senate Vote - War Declaration
	type = character_event
	title = republic_vote_events.1005.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_council_approval_war_declaration
					}
				}
				desc = republic_vote_events.1005.desc.sv_war
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_leaders_discretion_war_declaration
					}
				}
				desc = republic_vote_events.1005.desc.ld_war
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_council_approval_council_appointment
					}
				}
				desc = republic_vote_events.1005.desc.sv_council
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_leaders_discretion_council_appointment
					}
				}
				desc = republic_vote_events.1005.desc.ld_council
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_council_approval_imprisonment_rights
					}
				}
				desc = republic_vote_events.1005.desc.sv_prison
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_leaders_discretion_imprisonment_rights
					}
				}
				desc = republic_vote_events.1005.desc.ld_prison
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_council_approval_title_revocation
					}
				}
				desc = republic_vote_events.1005.desc.sv_revoke
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_leaders_discretion_title_revocation
					}
				}
				desc = republic_vote_events.1005.desc.ld_revoke
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_council_approval_title_granting
					}
				}
				desc = republic_vote_events.1005.desc.sv_grant
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_leaders_discretion_title_granting
					}
				}
				desc = republic_vote_events.1005.desc.ld_grant
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_life_title_term
					}
				}
				desc = republic_vote_events.1005.desc.life_term
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_twenty_year_term
					}
				}
				desc = republic_vote_events.1005.desc.twenty_term
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_ten_year_term
					}
				}
				desc = republic_vote_events.1005.desc.ten_term
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_four_year_term
					}
				}
				desc = republic_vote_events.1005.desc.four_term
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_two_year_term
					}
				}
				desc = republic_vote_events.1005.desc.two_term
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_one_year_term
					}
				}
				desc = republic_vote_events.1005.desc.one_term
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:war_proposal
					}
				}
				desc = republic_vote_events.1005.desc.war_prop
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:council_proposal
					}
				}
				desc = republic_vote_events.1005.desc.council_prop
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:imprisonment_proposal
					}
				}
				desc = republic_vote_events.1005.desc.prison_prop
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:revocation_proposal
					}
				}
				desc = republic_vote_events.1005.desc.revoke_prop
			}
			triggered_desc = {
				trigger = {
					exists = scope:grant_target
				}
				desc = republic_vote_events.1005.desc.grant_prop
			}
		}
	}
	trigger = {
		NOT = {
			exists = var:you_voted
		}
	}
	left_portrait = {
		character = root
		animation = personality_bold
	}
	theme = diplomacy
	immediate = {
		house = {
			var:titular_republic = {
				save_scope_as = titular_republic
			}
		}
		if = {
			limit = { scope:titular_republic = { exists = var:war_proposal } }
			scope:titular_republic = {
				var:proposed_war_target = {
					save_scope_as = war_enemy
				}
			}
		}
		if = {
			limit = { scope:titular_republic = { exists = var:grants_proposal } }
			scope:titular_republic = {
				var:proposed_grant_target = {
					save_scope_as = grant_target
				}
			}
		}
		if = {
			limit = { scope:titular_republic = { exists = var:revocation_proposal } }
			scope:titular_republic = {
				var:proposed_revoke_target = {
					save_scope_as = revoke_target
				}
			}
		}
		if = {
			limit = { scope:titular_republic = { exists = var:council_proposal } }
			scope:titular_republic = {
				var:proposed_councilor = {
					save_scope_as = proposed_councilor
				}
			}
		}
		if = {
			limit = { scope:titular_republic = { exists = var:imprisonment_proposal } }
			scope:titular_republic = {
				var:proposed_prison_target = {
					save_scope_as = prison_target
				}
			}
		}
	}

	option = { # Yea
		name = republic_vote_events.1005.a
		custom_tooltip = COUNCIL_VOTES_AYE
		ai_chance = {
			base = 100
			council_approval_war_declaration_modifier = yes
			leaders_discretion_war_declaration_modifier = yes
			council_approval_council_appointment_modifier = yes
			leaders_discretion_council_appointment_modifier = yes
			council_approval_imprisonment_rights_modifier = yes
			leaders_discretion_imprisonment_rights_modifier = yes
			council_approval_title_revocation_modifier = yes
			leaders_discretion_title_revocation_modifier = yes
			council_approval_title_granting_modifier = yes
			leaders_discretion_title_granting_modifier = yes
			life_title_term_modifier = yes
			twenty_year_term_modifier = yes
			ten_year_term_modifier = yes
			four_year_term_modifier = yes
			two_year_term_modifier = yes
			one_year_term_modifier = yes
			war_proposal_modifier = yes
			title_grants_proposal_modifier = yes
			title_revocation_proposal_modifier = yes
			imprisonment_proposal_modifier = yes
			council_appointment_proposal_modifier = yes
		}
		scope:titular_republic = {
			every_in_list = {
				variable = republic_families_list
				limit = { has_variable = house_votes_yea }
				every_house_member = {
					add_opinion = {
						target = root
						modifier = voted_similarly
					}
				}
			}
			every_in_list = {
				variable = republic_families_list
				limit = { has_variable = house_votes_nay }
				every_house_member = {
					add_opinion = {
						target = root
						modifier = voted_differently
					}
				}
			}
		}
		set_variable = you_voted
		every_in_list = {
			variable = blackmailing_house_heads
			remove_variable = house_votes_nay
			set_variable = house_votes_yea
		}
		house = { set_variable = house_votes_yea }
	}

	option = { # Nay
		name = republic_vote_events.1005.b
		custom_tooltip = COUNCIL_VOTES_NAY
		ai_chance = {
			base = 125
		}
		scope:titular_republic = {
			every_in_list = {
				variable = republic_families_list
				limit = { has_variable = house_votes_nay }
				every_house_member = {
					add_opinion = {
						target = root
						modifier = voted_similarly
					}
				}
			}
			every_in_list = {
				variable = republic_families_list
				limit = { has_variable = house_votes_yea }
				every_house_member = {
					add_opinion = {
						target = root
						modifier = voted_differently
					}
				}
			}
		}
		set_variable = you_voted
		house = { set_variable = house_votes_nay }
		every_in_list = {
			variable = blackmailing_house_heads
			remove_variable = house_votes_yea
			set_variable = house_votes_nay
		}
	}
}

republic_vote_events.1006 = { # Vote Over
	type = character_event
	hidden = yes

	immediate = {
		if = {
			limit = { primary_title.councillors_voting_aye > primary_title.councillors_voting_nay }
			primary_title = {
				every_in_list = {
					variable = republic_families_list
					house_head = {
						trigger_event = republic_vote_events.1007
						set_variable = a
					}
				}
				if = {
					limit = { has_variable = law_voting_council_approval_war_declaration }
					set_variable = council_approval_war_declaration
					remove_variable = leaders_discretion_war_declaration
					remove_variable = senate_vote_war_declaration
				}
				if = {
					limit = { has_variable = law_voting_leaders_discretion_war_declaration }
					remove_variable = council_approval_war_declaration
					set_variable = leaders_discretion_war_declaration
					remove_variable = senate_vote_war_declaration
				}
				if = {
					limit = { has_variable = law_voting_council_approval_council_appointment }
					set_variable = council_approval_council_appointment
					remove_variable = leaders_discretion_council_appointment
					remove_variable = senate_vote_council_appointment
					holder = {
						every_councillor = {
							save_scope_as = council_new
							liege_or_court_owner = {
								primary_title = {
									add_to_variable_list = {
										name = valid_council_targets_list
										target = scope:council_new
									}
								}
							}
						}
					}
				}
				if = {
					limit = { has_variable = law_voting_leaders_discretion_council_appointment }
					remove_variable = council_approval_council_appointment
					set_variable = leaders_discretion_council_appointment
					remove_variable = senate_vote_council_appointment
				}
				if = {
					limit = { has_variable = law_voting_council_approval_imprisonment_rights }
					set_variable = council_approval_imprisonment_rights
					remove_variable = leaders_discretion_imprisonment_rights
					remove_variable = senate_vote_imprisonment_rights
				}
				if = {
					limit = { has_variable = law_voting_leaders_discretion_imprisonment_rights }
					remove_variable = council_approval_imprisonment_rights
					set_variable = leaders_discretion_imprisonment_rights
					remove_variable = senate_vote_imprisonment_rights
				}
				if = {
					limit = { has_variable = law_voting_council_approval_title_revocation }
					set_variable = council_approval_title_revocation
					remove_variable = leaders_discretion_title_revocation
					remove_variable = senate_vote_title_revocation
				}
				if = {
					limit = { has_variable = law_voting_leaders_discretion_title_revocation }
					remove_variable = council_approval_title_revocation
					set_variable = leaders_discretion_title_revocation
					remove_variable = senate_vote_title_revocation
				}
				if = {
					limit = { has_variable = law_voting_council_approval_title_granting }
					set_variable = council_approval_title_granting
					remove_variable = leaders_discretion_title_granting
					remove_variable = senate_vote_title_granting
				}
				if = {
					limit = { has_variable = law_voting_leaders_discretion_title_granting }
					remove_variable = council_approval_title_granting
					set_variable = leaders_discretion_title_granting
					remove_variable = senate_vote_title_granting
				}
				if = {
					limit = { has_variable = law_voting_life_title_term }
					set_variable = life_title_term
					remove_variable = twenty_year_term
					remove_variable = ten_year_term
					remove_variable = four_year_term
					remove_variable = two_year_term
					remove_variable = one_year_term
				}
				if = {
					limit = { has_variable = law_voting_twenty_year_term }
					remove_variable = life_title_term
					set_variable = twenty_year_term
					remove_variable = ten_year_term
					remove_variable = four_year_term
					remove_variable = two_year_term
					remove_variable = one_year_term
				}
				if = {
					limit = { has_variable = law_voting_ten_year_term }
					remove_variable = life_title_term
					remove_variable = twenty_year_term
					set_variable = ten_year_term
					remove_variable = four_year_term
					remove_variable = two_year_term
					remove_variable = one_year_term
				}
				if = {
					limit = { has_variable = law_voting_four_year_term }
					remove_variable = life_title_term
					remove_variable = twenty_year_term
					remove_variable = ten_year_term
					set_variable = four_year_term
					remove_variable = two_year_term
					remove_variable = one_year_term
				}
				if = {
					limit = { has_variable = law_voting_two_year_term }
					remove_variable = life_title_term
					remove_variable = twenty_year_term
					remove_variable = ten_year_term
					remove_variable = four_year_term
					set_variable = two_year_term
					remove_variable = one_year_term
				}
				if = {
					limit = { has_variable = law_voting_one_year_term }
					remove_variable = life_title_term
					remove_variable = twenty_year_term
					remove_variable = ten_year_term
					remove_variable = four_year_term
					remove_variable = two_year_term
					set_variable = one_year_term
				}
				if = {
					limit = { has_variable = war_proposal }
					var:proposed_war_target = {
						save_scope_as = war_enemy
					}
					add_to_variable_list = {
						name = valid_war_targets_list
						target = scope:war_enemy
					}
				}
				if = {
					limit = { has_variable = council_proposal }
					var:proposed_councilor = {
						save_scope_as = proposed_councilor
					}
					add_to_variable_list = {
						name = valid_council_targets_list
						target = scope:proposed_councilor
					}
				}
				if = {
					limit = { has_variable = imprisonment_proposal }
					var:proposed_prison_target = {
						save_scope_as = new_prison
					}
					add_to_variable_list = {
						name = valid_prison_targets_list
						target = scope:new_prison
					}
				}
				if = {
					limit = { has_variable = revocation_proposal }
					var:proposed_revoke_target = {
						save_scope_as = revoke_target
					}
					add_to_variable_list = {
						name = valid_revocation_targets_list
						target = scope:revoke_target
					}
				}
				if = {
					limit = { has_variable = grants_proposal }
					var:proposed_grant_target = {
						save_scope_as = grant_target
					}
					add_to_variable_list = {
						name = valid_grant_targets_list
						target = scope:grant_target
					}
				}
				remove_list_variable = {
					name = proposed_laws_list
					target = scope:law_proposed
				}
			}
		}
		if = {
			limit = { primary_title.councillors_voting_aye <= primary_title.councillors_voting_nay }
			primary_title = {
				every_in_list = {
					variable = republic_families_list
					house_head = {
						trigger_event = republic_vote_events.1007
						set_variable = b
					}
				}
				remove_list_variable = {
					name = proposed_laws_list
					target = scope:law_proposed
				}
			}
		}
		primary_title = {
			every_in_list = {
				variable = republic_families
				remove_variable = house_votes_yea
				remove_variable = house_votes_nay
			}
		}
		if = {
			limit = {
				primary_title = {
					any_in_list = {
						variable = proposed_laws_list
						exists = this
					}
				}
			}
			trigger_event = {
				id = republic_vote_events.1008
				days = 2
			}
		}
	}
}

republic_vote_events.1007 = { # Senate Vote Results
	type = character_event
	title = republic_vote_events.1007.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_council_approval_war_declaration
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.sv_war
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_leaders_discretion_war_declaration
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.ld_war
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_council_approval_council_appointment
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.sv_council
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_leaders_discretion_council_appointment
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.ld_council
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_council_approval_imprisonment_rights
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.sv_prison
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_leaders_discretion_imprisonment_rights
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.ld_prison
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_council_approval_title_revocation
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.sv_revoke
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_leaders_discretion_title_revocation
						}
					}
				}
				desc = republic_vote_events.1007.desc.ld_revoke
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_council_approval_title_granting
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.sv_grant
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_leaders_discretion_title_granting
						}
					}
				}
				desc = republic_vote_events.1007.desc.ld_grant
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_life_title_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.life_term
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_twenty_year_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.twenty_term
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_ten_year_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.ten_term
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_four_year_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.four_term
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_two_year_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.two_term
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_one_year_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.one_term
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:war_proposal
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.war_prop
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:council_proposal
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.council_prop
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:imprisonment_proposal
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.prison_prop
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:revocation_proposal
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.revoke_prop
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:grants_proposal
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1007.desc.grant_prop
			}
			triggered_desc = {
				trigger = {
					exists = var:b
				}
				desc = republic_vote_events.1007.desc.b
			}
		}
	}
	left_portrait = {
		character = root
		animation = personality_bold
	}
	theme = diplomacy

	immediate = {
		clear_variable_list = blackmailing_house_heads
	}

	option = { # Vote Passes Good
		name = republic_vote_events.1007.a
		trigger = { has_variable = a house = { has_variable = house_votes_yea } }
		house = { remove_variable = house_votes_yea remove_variable = house_votes_nay }
		remove_variable = a
		remove_variable = you_voted
		custom_tooltip = VOTE_PASSES
	}

	option = { # Vote Passes Bad
		name = republic_vote_events.1007.b
		trigger = { has_variable = a house = { has_variable = house_votes_nay } }
		house = { remove_variable = house_votes_yea remove_variable = house_votes_nay }
		remove_variable = a
		remove_variable = you_voted
		custom_tooltip = VOTE_PASSES
	}

	option = { # Vote Fails Good
		name = republic_vote_events.1007.c
		trigger = { has_variable = b house = { has_variable = house_votes_nay } }
		house = { remove_variable = house_votes_yea remove_variable = house_votes_nay }
		remove_variable = b
		remove_variable = you_voted
		custom_tooltip = VOTE_FAILS
	}

	option = { # Vote Fails Bad
		name = republic_vote_events.1007.d
		trigger = { has_variable = b house = { has_variable = house_votes_yea } }
		house = { remove_variable = house_votes_yea remove_variable = house_votes_nay }
		remove_variable = b
		remove_variable = you_voted
		custom_tooltip = VOTE_FAILS
	}
}

republic_vote_events.1008 = { # Vote Over
	type = character_event
	hidden = yes

	immediate = {
		primary_title = {
			remove_variable = law_voting_council_approval_war_declaration
			remove_variable = law_voting_leaders_discretion_war_declaration
			remove_variable = law_voting_council_approval_council_appointment
			remove_variable = law_voting_leaders_discretion_council_appointment
			remove_variable = law_voting_council_approval_imprisonment_rights
			remove_variable = law_voting_leaders_discretion_imprisonment_rights
			remove_variable = law_voting_council_approval_title_revocation
			remove_variable = law_voting_leaders_discretion_title_revocation
			remove_variable = law_voting_council_approval_title_granting
			remove_variable = law_voting_leaders_discretion_title_granting
			remove_variable = law_voting_life_title_term
			remove_variable = law_voting_twenty_year_term
			remove_variable = law_voting_ten_year_term
			remove_variable = law_voting_four_year_term
			remove_variable = law_voting_two_year_term
			remove_variable = law_voting_one_year_term
			remove_variable = war_proposal
			remove_variable = council_proposal
			remove_variable = imprisonment_proposal
			remove_variable = grants_proposal
			remove_variable = revocation_proposal
			trigger_council_election_cycle = yes
		}
	}
}



republic_vote_events.1009 = { # Senate Vote - War Declaration
	type = character_event
	title = republic_vote_events.1009.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_life_title_term
					}
				}
				desc = republic_vote_events.1009.desc.life_term
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_twenty_year_term
					}
				}
				desc = republic_vote_events.1009.desc.twenty_term
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_ten_year_term
					}
				}
				desc = republic_vote_events.1009.desc.ten_term
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_four_year_term
					}
				}
				desc = republic_vote_events.1009.desc.four_term
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_two_year_term
					}
				}
				desc = republic_vote_events.1009.desc.two_term
			}
			triggered_desc = {
				trigger = {
					scope:titular_republic = {
						exists = var:law_voting_one_year_term
					}
				}
				desc = republic_vote_events.1009.desc.one_term
			}
		}
	}
	trigger = {
		NOT = {
			exists = var:you_voted
		}
	}
	left_portrait = {
		character = root
		animation = personality_bold
	}
	theme = diplomacy
	immediate = {
		house = {
			var:titular_republic = {
				save_scope_as = titular_republic
			}
		}
	}

	option = { # Yea
		name = republic_vote_events.1009.a
		custom_tooltip = HOUSES_VOTES_AYE
		ai_chance = {
			base = 100
			life_title_term_modifier = yes
			twenty_year_term_modifier = yes
			ten_year_term_modifier = yes
			four_year_term_modifier = yes
			two_year_term_modifier = yes
			one_year_term_modifier = yes
		}
		scope:titular_republic = {
			every_in_list = {
				variable = republic_families_list
				limit = { has_variable = house_votes_yea }
				every_house_member = {
					add_opinion = {
						target = root
						modifier = voted_similarly
					}
				}
			}
			every_in_list = {
				variable = republic_families_list
				limit = { has_variable = house_votes_nay }
				every_house_member = {
					add_opinion = {
						target = root
						modifier = voted_differently
					}
				}
			}
		}
		set_variable = you_voted
		every_in_list = {
			variable = blackmailing_house_heads
			remove_variable = house_votes_nay
			set_variable = house_votes_yea
		}
		house = { set_variable = house_votes_yea }
	}

	option = { # Nay
		name = republic_vote_events.1009.b
		custom_tooltip = HOUSES_VOTES_NAY
		ai_chance = {
			base = 125
		}
		scope:titular_republic = {
			every_in_list = {
				variable = republic_families_list
				limit = { has_variable = house_votes_nay }
				every_house_member = {
					add_opinion = {
						target = root
						modifier = voted_similarly
					}
				}
			}
			every_in_list = {
				variable = republic_families_list
				limit = { has_variable = house_votes_yea }
				every_house_member = {
					add_opinion = {
						target = root
						modifier = voted_differently
					}
				}
			}
		}
		set_variable = you_voted
		every_in_list = {
			variable = blackmailing_house_heads
			remove_variable = house_votes_yea
			set_variable = house_votes_nay
		}
		house = { set_variable = house_votes_nay }
	}
}

republic_vote_events.1010 = { # Vote Over
	type = character_event
	hidden = yes

	immediate = {
		if = {
			limit = { primary_title.houses_voting_aye > primary_title.houses_voting_nay }
			primary_title = {
				every_in_list = {
					variable = republic_families_list
					house_head = {
						trigger_event = republic_vote_events.1011
						set_variable = a
					}
				}
				if = {
					limit = { has_variable = law_voting_life_title_term }
					set_variable = life_title_term
					remove_variable = twenty_year_term
					remove_variable = ten_year_term
					remove_variable = four_year_term
					remove_variable = two_year_term
					remove_variable = one_year_term
				}
				if = {
					limit = { has_variable = law_voting_twenty_year_term }
					remove_variable = life_title_term
					set_variable = twenty_year_term
					remove_variable = ten_year_term
					remove_variable = four_year_term
					remove_variable = two_year_term
					remove_variable = one_year_term
				}
				if = {
					limit = { has_variable = law_voting_ten_year_term }
					remove_variable = life_title_term
					remove_variable = twenty_year_term
					set_variable = ten_year_term
					remove_variable = four_year_term
					remove_variable = two_year_term
					remove_variable = one_year_term
				}
				if = {
					limit = { has_variable = law_voting_four_year_term }
					remove_variable = life_title_term
					remove_variable = twenty_year_term
					remove_variable = ten_year_term
					set_variable = four_year_term
					remove_variable = two_year_term
					remove_variable = one_year_term
				}
				if = {
					limit = { has_variable = law_voting_two_year_term }
					remove_variable = life_title_term
					remove_variable = twenty_year_term
					remove_variable = ten_year_term
					remove_variable = four_year_term
					set_variable = two_year_term
					remove_variable = one_year_term
				}
				if = {
					limit = { has_variable = law_voting_one_year_term }
					remove_variable = life_title_term
					remove_variable = twenty_year_term
					remove_variable = ten_year_term
					remove_variable = four_year_term
					remove_variable = two_year_term
					set_variable = one_year_term
				}
				remove_list_variable = {
					name = proposed_laws_list
					target = scope:law_proposed
				}
			}
		}
		if = {
			limit = { primary_title.councillors_voting_aye <= primary_title.councillors_voting_nay }
			primary_title = {
				every_in_list = {
					variable = republic_families_list
					house_head = {
						trigger_event = republic_vote_events.1011
						set_variable = b
					}
				}
				remove_list_variable = {
					name = proposed_laws_list
					target = scope:law_proposed
				}
			}
		}
		primary_title = {
			every_in_list = {
				variable = republic_families
				remove_variable = house_votes_yea
				remove_variable = house_votes_nay
			}
		}
		trigger_event = {
			id = republic_vote_events.1012
			days = 2
		}
	}
}

republic_vote_events.1011 = { # Senate Vote Results
	type = character_event
	title = republic_vote_events.1011.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_life_title_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1011.desc.life_term
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_twenty_year_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1011.desc.twenty_term
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_ten_year_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1011.desc.ten_term
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_four_year_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1011.desc.four_term
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_two_year_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1011.desc.two_term
			}
			triggered_desc = {
				trigger = {
					house = {
						var:titular_republic = {
							exists = var:law_voting_one_year_term
						}
					}
					exists = var:a
				}
				desc = republic_vote_events.1011.desc.one_term
			}
			triggered_desc = {
				trigger = {
					exists = var:b
				}
				desc = republic_vote_events.1011.desc.b
			}
		}
	}
	left_portrait = {
		character = root
		animation = personality_bold
	}
	theme = diplomacy

	immediate = {
		clear_variable_list = blackmailing_house_heads
	}

	option = { # Vote Passes Good
		name = republic_vote_events.1011.a
		trigger = { has_variable = a house = { has_variable = house_votes_yea } }
		house = { remove_variable = house_votes_yea remove_variable = house_votes_nay }
		remove_variable = a
		remove_variable = you_voted
		custom_tooltip = VOTE_PASSES
	}

	option = { # Vote Passes Bad
		name = republic_vote_events.1011.b
		trigger = { has_variable = a house = { has_variable = house_votes_nay } }
		house = { remove_variable = house_votes_yea remove_variable = house_votes_nay }
		remove_variable = a
		remove_variable = you_voted
		custom_tooltip = VOTE_PASSES
	}

	option = { # Vote Fails Good
		name = republic_vote_events.1011.c
		trigger = { has_variable = b house = { has_variable = house_votes_nay } }
		house = { remove_variable = house_votes_yea remove_variable = house_votes_nay }
		remove_variable = b
		remove_variable = you_voted
		custom_tooltip = VOTE_FAILS
	}

	option = { # Vote Fails Bad
		name = republic_vote_events.1011.d
		trigger = { has_variable = b house = { has_variable = house_votes_yea } }
		house = { remove_variable = house_votes_yea remove_variable = house_votes_nay }
		remove_variable = b
		remove_variable = you_voted
		custom_tooltip = VOTE_FAILS
	}
}

republic_vote_events.1012 = { # Vote Over
	type = character_event
	hidden = yes

	immediate = {
		primary_title = {
			remove_variable = law_voting_life_title_term
			remove_variable = law_voting_twenty_year_term
			remove_variable = law_voting_ten_year_term
			remove_variable = law_voting_four_year_term
			remove_variable = law_voting_two_year_term
			remove_variable = law_voting_one_year_term
		}
	}
}

republic_vote_events.1013 = { # Senate Vote - War Declaration
	type = character_event
	title = republic_vote_events.1013.t
	desc = republic_vote_events.1013.desc
	trigger = {
		NOT = {
			exists = var:you_voted
		}
	}
	right_portrait = {
		character = scope:leading_candidate
		animation = steward
	}
	left_portrait = {
		character = root
		animation = chancellor
	}
	theme = diplomacy
	immediate = {
		house = {
			var:titular_republic = {
				save_scope_as = titular_republic
			}
		}
		scope:titular_republic = {
			ordered_in_list = {
				variable = republic_families_list
				order_by = family_respect
				position = 0
				random_in_list = {
					variable = election_candidates
					save_scope_as = electee_one
				}
			}
			ordered_in_list = {
				variable = republic_families_list
				order_by = family_respect
				position = 1
				random_in_list = {
					variable = election_candidates
					save_scope_as = electee_two
				}
			}
			ordered_in_list = {
				variable = republic_families_list
				order_by = family_respect
				position = 2
				random_in_list = {
					variable = election_candidates
					save_scope_as = electee_three
				}
			}
			ordered_in_list = {
				variable = republic_families_list
				order_by = family_respect
				position = 3
				random_in_list = {
					variable = election_candidates
					save_scope_as = electee_four
				}
			}
			ordered_in_list = {
				variable = republic_families_list
				order_by = family_respect
				position = 4
				random_in_list = {
					variable = election_candidates
					save_scope_as = electee_five
				}
			}
			if = {
				limit = {
					all_votes_electee_one >= all_votes_electee_two
					all_votes_electee_one >= all_votes_electee_three
					all_votes_electee_one >= all_votes_electee_four
					all_votes_electee_one >= all_votes_electee_five
				}
				scope:electee_one = { save_scope_as = leading_candidate }
			}
			if = {
				limit = {
					all_votes_electee_two > all_votes_electee_one
					all_votes_electee_two >= all_votes_electee_three
					all_votes_electee_two >= all_votes_electee_four
					all_votes_electee_two >= all_votes_electee_five
				}
				scope:electee_two = { save_scope_as = leading_candidate }
			}
			if = {
				limit = {
					all_votes_electee_three > all_votes_electee_two
					all_votes_electee_three > all_votes_electee_one
					all_votes_electee_three >= all_votes_electee_four
					all_votes_electee_three >= all_votes_electee_five
				}
				scope:electee_three = { save_scope_as = leading_candidate }
			}
			if = {
				limit = {
					all_votes_electee_four > all_votes_electee_two
					all_votes_electee_four > all_votes_electee_three
					all_votes_electee_four > all_votes_electee_one
					all_votes_electee_four >= all_votes_electee_five
				}
				scope:electee_four = { save_scope_as = leading_candidate }
			}
			if = {
				limit = {
					all_votes_electee_five > all_votes_electee_two
					all_votes_electee_five > all_votes_electee_three
					all_votes_electee_five > all_votes_electee_four
					all_votes_electee_five > all_votes_electee_one
				}
				scope:electee_five = { save_scope_as = leading_candidate }
			}
		}
	}

	option = { # Electee 1
		name = republic_vote_events.1013.a
		custom_tooltip = VOTES_ELECTEE_ONE
		ai_chance = {
			base = 0
			electee_one_modifier = yes
		}
		house = { set_variable = house_votes_electee_one }
		scope:electee_one = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_for_me
				}
			}
		}
		scope:electee_two = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
		scope:electee_three = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
		scope:electee_four = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
		scope:electee_five = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
	}

	option = { # Electee 2
		name = republic_vote_events.1013.b
		custom_tooltip = VOTES_ELECTEE_TWO
		ai_chance = {
			base = 0
			electee_two_modifier = yes
		}
		house = { set_variable = house_votes_electee_two }
		scope:electee_one = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
		scope:electee_two = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_for_me
				}
			}
		}
		scope:electee_three = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
		scope:electee_four = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
		scope:electee_five = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
	}

	option = { # Electee 3
		name = republic_vote_events.1013.c
		custom_tooltip = VOTES_ELECTEE_THREE
		ai_chance = {
			base = 0
			electee_three_modifier = yes
		}
		house = { set_variable = house_votes_electee_three }
		scope:electee_one = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
		scope:electee_two = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
		scope:electee_three = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_for_me
				}
			}
		}
		scope:electee_four = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
		scope:electee_five = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
	}

	option = { # Electee 4
		name = republic_vote_events.1013.d
		custom_tooltip = VOTES_ELECTEE_FOUR
		ai_chance = {
			base = 0
			electee_four_modifier = yes
		}
		house = { set_variable = house_votes_electee_four }
		scope:electee_one = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
		scope:electee_two = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
		scope:electee_three = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
		scope:electee_four = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_for_me
				}
			}
		}
		scope:electee_five = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
	}

	option = { # Electee 5
		name = republic_vote_events.1013.e
		custom_tooltip = VOTES_ELECTEE_FIVE
		ai_chance = {
			base = 0
			electee_five_modifier = yes
		}
		house = { set_variable = house_votes_electee_five }
		scope:electee_one = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
		scope:electee_two = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
		scope:electee_three = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
		scope:electee_four = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_against_me
				}
			}
		}
		scope:electee_five = {
			if = {
				limit = { is_ai = yes }
				add_opinion = {
					target = root
					modifier = voted_for_me
				}
			}
		}
	}
}

republic_vote_events.1014 = { # Vote Over
	type = character_event
	hidden = yes

	immediate = {
		primary_title = {
			ordered_in_list = {
				variable = republic_families_list
				order_by = family_respect
				position = 0
				random_in_list = {
					variable = election_candidates
					save_scope_as = electee_one
				}
			}
			ordered_in_list = {
				variable = republic_families_list
				order_by = family_respect
				position = 1
				random_in_list = {
					variable = election_candidates
					save_scope_as = electee_two
				}
			}
			ordered_in_list = {
				variable = republic_families_list
				order_by = family_respect
				position = 2
				random_in_list = {
					variable = election_candidates
					save_scope_as = electee_three
				}
			}
			ordered_in_list = {
				variable = republic_families_list
				order_by = family_respect
				position = 3
				random_in_list = {
					variable = election_candidates
					save_scope_as = electee_four
				}
			}
			ordered_in_list = {
				variable = republic_families_list
				order_by = family_respect
				position = 4
				random_in_list = {
					variable = election_candidates
					save_scope_as = electee_five
				}
			}
			if = {
				limit = {
					all_votes_electee_one >= all_votes_electee_two
					all_votes_electee_one >= all_votes_electee_three
					all_votes_electee_one >= all_votes_electee_four
					all_votes_electee_one >= all_votes_electee_five
				}
				scope:electee_one = { save_scope_as = election_winner }
			}
			if = {
				limit = {
					all_votes_electee_two > all_votes_electee_one
					all_votes_electee_two >= all_votes_electee_three
					all_votes_electee_two >= all_votes_electee_four
					all_votes_electee_two >= all_votes_electee_five
				}
				scope:electee_two = { save_scope_as = election_winner }
			}
			if = {
				limit = {
					all_votes_electee_three > all_votes_electee_two
					all_votes_electee_three > all_votes_electee_one
					all_votes_electee_three >= all_votes_electee_four
					all_votes_electee_three >= all_votes_electee_five
				}
				scope:electee_three = { save_scope_as = election_winner }
			}
			if = {
				limit = {
					all_votes_electee_four > all_votes_electee_two
					all_votes_electee_four > all_votes_electee_three
					all_votes_electee_four > all_votes_electee_one
					all_votes_electee_four >= all_votes_electee_five
				}
				scope:electee_four = { save_scope_as = election_winner }
			}
			if = {
				limit = {
					all_votes_electee_five > all_votes_electee_two
					all_votes_electee_five > all_votes_electee_three
					all_votes_electee_five > all_votes_electee_four
					all_votes_electee_five > all_votes_electee_one
				}
				scope:electee_five = { save_scope_as = election_winner }
			}
			main_republic_succession = yes
		}
	}
}