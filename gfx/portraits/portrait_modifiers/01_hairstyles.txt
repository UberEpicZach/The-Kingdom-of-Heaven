@baby_hair_age = 5
@african_clothing_no_hair_chance = 6.5

# Make sure the weights here match up best as possible with the custom_hair set
hairstyles = {

    usage = game
    selection_behavior = weighted_random

    western_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = western_hairstyles_straight 
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
					OR = {
						AND = {					
						portrait_western_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}						
						AND = {
						portrait_iberia_clothing_trigger = yes
						portrait_iberia_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes								
								}
						AND = {					
						portrait_hungarian_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}
						AND = {					
						portrait_anglo_saxon_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}
						AND = {					
						portrait_polish_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}									
						AND = {
				        portrait_west_slav_clothing_trigger = yes
		                ###High medieval headgears		
				        OR = {
				        EPE_culture_era_high_medieval_trigger = yes	##High to late era						
				         }
								}
						AND = {					
						portrait_german_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}						
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    western_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = western_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    exists = this
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
					OR = {
								AND = {					
						portrait_western_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}						
								AND = {
						portrait_iberia_clothing_trigger = yes
						portrait_iberia_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes								
								}
								AND = {					
						portrait_hungarian_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}
								AND = {					
						portrait_anglo_saxon_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}
								AND = {					
						portrait_polish_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}									
						AND = {
				        portrait_west_slav_clothing_trigger = yes
		                ###High medieval headgears		
				        OR = {
				        EPE_culture_era_high_medieval_trigger = yes	##High to late era						
				        }
								}
						AND = {					
						portrait_german_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}						
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    western_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = western_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    exists = this
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
					OR = {
						AND = {					
						portrait_western_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}						
						AND = {
						portrait_iberia_clothing_trigger = yes
						portrait_iberia_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes								
								}
						AND = {					
						portrait_hungarian_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}
						AND = {					
						portrait_anglo_saxon_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}
						AND = {					
						portrait_polish_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}									
						AND = {
				        portrait_west_slav_clothing_trigger = yes
		                ###High medieval headgears		
				        OR = {
				        EPE_culture_era_high_medieval_trigger = yes	##High to late era						
				        }
								}
						AND = {					
						portrait_german_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}						
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    western_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = western_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
					OR = {
						portrait_western_clothing_trigger = yes
						portrait_gaelic_clothing_trigger = yes
						AND = {
						portrait_iberia_clothing_trigger = yes
						portrait_iberia_trigger = yes	
								}
					    portrait_hungarian_clothing_trigger = yes	
					    portrait_anglo_saxon_clothing_trigger = yes	
					    portrait_polish_clothing_trigger = yes	
					    portrait_west_slav_clothing_trigger = yes
					    portrait_german_clothing_trigger = yes							
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    mena_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = mena_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
					OR = {
                    portrait_mena_clothing_trigger = yes
				    portrait_dde_abbasid_clothing_trigger = yes					
					AND = {
				    portrait_iberia_muslim_clothing_trigger = yes	
					portrait_iberia_muslim_trigger = yes				
							}
					AND = {					
					portrait_seljuk_clothing_trigger = yes
				    EPE_culture_era_high_medieval_trigger = yes						
							}								
				    portrait_maghreb_clothing_trigger = yes	
			        portrait_bedouin_clothing_trigger = yes						
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    this = character:33922 # Prophet Muhammad
                }
            }
        }
    }

    mena_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = mena_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
					OR = {
                        portrait_mena_clothing_trigger = yes
				        portrait_dde_abbasid_clothing_trigger = yes						
						AND = {
				        portrait_iberia_muslim_clothing_trigger = yes	
						portrait_iberia_muslim_trigger = yes				
								}
						AND = {					
						portrait_seljuk_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}								
				        portrait_maghreb_clothing_trigger = yes	
			            portrait_bedouin_clothing_trigger = yes						
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    this = character:33922 # Prophet Muhammad
                }
            }
        }
    }

    mena_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = mena_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
					OR = {
                        portrait_mena_clothing_trigger = yes
				        portrait_dde_abbasid_clothing_trigger = yes						
						AND = {
				        portrait_iberia_muslim_clothing_trigger = yes	
						portrait_iberia_muslim_trigger = yes				
								}
						AND = {					
						portrait_seljuk_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}								
				        portrait_maghreb_clothing_trigger = yes	
			            portrait_bedouin_clothing_trigger = yes						
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    this = character:33922 # Prophet Muhammad
                }
            }
        }
    }

    mena_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = mena_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
					OR = {
                        portrait_mena_clothing_trigger = yes
				        portrait_dde_abbasid_clothing_trigger = yes						
						AND = {
				        portrait_iberia_muslim_clothing_trigger = yes	
						portrait_iberia_muslim_trigger = yes				
								}
						AND = {					
						portrait_seljuk_clothing_trigger = yes
				        EPE_culture_era_high_medieval_trigger = yes						
								}								
				        portrait_maghreb_clothing_trigger = yes		
			            portrait_bedouin_clothing_trigger = yes						
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                    this = character:33922 # Prophet Muhammad
                }
            }
        }
    }

    byzantine_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = byzantine_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                portrait_byzantine_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    byzantine_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = byzantine_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
                portrait_byzantine_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    byzantine_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = byzantine_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
                portrait_byzantine_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    byzantine_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = byzantine_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
                portrait_byzantine_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    indian_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = indian_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
					OR = {
						portrait_indian_clothing_trigger = yes
						portrait_south_indian_clothing_trigger = yes
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    indian_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = indian_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
					OR = {
						portrait_indian_clothing_trigger = yes
						portrait_south_indian_clothing_trigger = yes
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    indian_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = indian_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
					OR = {
						portrait_indian_clothing_trigger = yes
						portrait_south_indian_clothing_trigger = yes
					}
            }	
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    indian_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = indian_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
					OR = {
						portrait_indian_clothing_trigger = yes
						portrait_south_indian_clothing_trigger = yes
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    steppe_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = steppe_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                portrait_steppe_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    steppe_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = steppe_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
                portrait_steppe_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    steppe_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = steppe_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
                portrait_steppe_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    steppe_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = steppe_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
                portrait_steppe_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    northern_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = northern_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
				OR = {
					portrait_northern_clothing_trigger = yes	
					AND = {
					portrait_northern_slav_clothing_trigger = yes	
                    NOT = { portrait_norse_flavor_dlc_trigger = yes } 					
								}
					AND = {
					portrait_balto_finnic_clothing_trigger = yes	
                    NOT = { portrait_norse_flavor_dlc_trigger = yes } 					
						}								
				}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    northern_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = northern_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
				OR = {
					portrait_northern_clothing_trigger = yes	
					AND = {
					portrait_northern_slav_clothing_trigger = yes	
                    NOT = { portrait_norse_flavor_dlc_trigger = yes } 					
								}
					AND = {
					portrait_balto_finnic_clothing_trigger = yes	
                    NOT = { portrait_norse_flavor_dlc_trigger = yes } 					
						}								
				}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    northern_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = northern_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
				OR = {
					portrait_northern_clothing_trigger = yes
					portrait_gaelic_clothing_trigger = yes		
					AND = {
				    portrait_west_slav_clothing_trigger = yes					
		            ###tribal medieval headgears		
			        OR = {
				    EPE_culture_era_early_medieval_trigger = yes					
				        }
							}

					AND = {					
					portrait_western_clothing_trigger = yes
				    EPE_culture_era_early_medieval_trigger = yes						
						}						
					AND = {
					portrait_iberia_clothing_trigger = yes
					portrait_iberia_trigger = yes	
				    EPE_culture_era_early_medieval_trigger = yes						
						}
					AND = {					
					portrait_hungarian_clothing_trigger = yes
				    EPE_culture_era_early_medieval_trigger = yes						
						}
					AND = {					
					portrait_anglo_saxon_clothing_trigger = yes
				    EPE_culture_era_early_medieval_trigger = yes						
						}
					AND = {					
					portrait_polish_clothing_trigger = yes
				    EPE_culture_era_early_medieval_trigger = yes						
								}
					AND = {					
					portrait_italian_clothing_trigger = yes
				    EPE_culture_era_early_medieval_trigger = yes						
								}	
					AND = {					
					portrait_french_clothing_trigger = yes
				    EPE_culture_era_early_medieval_trigger = yes						
						}	
					AND = {					
					portrait_german_clothing_trigger = yes
				    EPE_culture_era_early_medieval_trigger = yes						
						}
								
				}						
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    northern_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = northern_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
                portrait_northern_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    african_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = sub_saharan_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
					OR = {
						portrait_african_clothing_trigger = yes
						portrait_central_african_clothing_trigger = yes
			            portrait_sahelian_clothing_trigger = yes							
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    african_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = sub_saharan_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
					OR = {
						portrait_african_clothing_trigger = yes
						portrait_central_african_clothing_trigger = yes
			            portrait_sahelian_clothing_trigger = yes							
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    african_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = sub_saharan_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
					OR = {
						portrait_african_clothing_trigger = yes
						portrait_central_african_clothing_trigger = yes
			            portrait_sahelian_clothing_trigger = yes							
					}
            }	
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    african_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = sub_saharan_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
					OR = {
						portrait_african_clothing_trigger = yes
						portrait_central_african_clothing_trigger = yes
			            portrait_sahelian_clothing_trigger = yes							
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

	baby_hair = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = western_baby_hairstyles
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 100
                scope:age < @baby_hair_age
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}				
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}				
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
					#OR = {
					#	portrait_african_clothing_trigger = yes
					#	portrait_central_african_clothing_trigger = yes
			        #    portrait_sahelian_clothing_trigger = yes							
					#}
            }
        }
    }

    baby_hair_sub_saharan = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = sub_saharan_baby_hairstyles
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 100
                age < @baby_hair_age
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
					#OR = {
					#	portrait_african_clothing_trigger = yes
					#	portrait_central_african_clothing_trigger = yes
			        #    portrait_sahelian_clothing_trigger = yes							
					#}
            }
        }
    }

#    no_hair = { # This is to give a random chance of a clean shaven look
#        dna_modifiers = {
#            accessory = {
#                mode = add
#                gene = hairstyles
#                template = no_hairstyles
#                range = { 0 1 } # For the randomness to work correctly
#            }
#        }   
#        weight = {
#            base = 0
#            modifier = {
#                add = -100
#                age < @baby_hair_age
#            }
#            modifier = {
#                add = -100
#                OR = {
#                    is_from_ruler_designer = yes
#                    has_character_flag = has_scripted_appearance
#                }
#            }
#            # Different likelyhood of a clean shaven look in different cultures
#            modifier = {
#                add = @african_clothing_no_hair_chance
#                OR = {
#                portrait_african_clothing_trigger = yes
#			    #portrait_east_african_clothing_trigger = yes			
#			    portrait_central_african_clothing_trigger = yes	
#			    #portrait_sahelian_clothing_trigger = yes					
#                }				
#            }
#        }
#    }

    # default_hair = {
    #     weight = {
    #         base = 0
    #         modifier = {
    #             add = 100
    #             age >= @baby_hair_age
    #         }
    #         # This can't be always 100 otherwise it will get insta picked, so we subtract the no hair chance off to weight it properly
    #         modifier = {
    #             add = {
    #                 subtract = @african_clothing_no_hair_chance
    #             }
    #             portrait_african_clothing_trigger = yes
    #         }
    #     }
    # }



    fp1_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = fp1_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                portrait_fp1_norse_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    fp1_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = fp1_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
                portrait_fp1_norse_clothing_trigger = yes
            }

            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    male_hair_rtt_01 = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = hairstyles
				template = rtt_hairstyles
				value = 0
			}
		}

		is_valid_custom = {
			#monarchs_journey_unlock = 6
			trigger_if = {
				limit = { exists = root }
				is_female = no
			}
			trigger_else = {
				scope:female = no
			}
		}

		weight = {
			base = 0
			modifier = {
                add = 55
                exists = this
                has_gene = {
                    category = gene_hair_type
                    template = hair_wavy
                }
                culture = culture:scottish
            }
		}
	}

	male_hair_rtt_02 = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = hairstyles
				template = rtt_hairstyles
				value = 1
			}
		}

		is_valid_custom = {
			#monarchs_journey_unlock = 2
			trigger_if = {
				limit = { exists = root }
				is_female = no
			}
			trigger_else = {
				scope:female = no
			}
		}

		weight = {
			base = 0
		}
	}
	
	female_hair_rtt_02 = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = hairstyles
				template = rtt_hairstyles
				value = 0.5
			}
		}

		is_valid_custom = {
			#monarchs_journey_unlock = 8
			trigger_if = {
				limit = { exists = root }
				is_female = yes
			}
			trigger_else = {
				scope:female = yes
			}
		}

		weight = {
			base = 0
			modifier = {
                add = 25
                exists = this
                has_gene = {
                    category = gene_hair_type
                    template = hair_curly
                }
				culture = { has_cultural_pillar = heritage_frankish }
            }
		}
	}

	female_hair_rtt_01 = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = hairstyles
				template = rtt_hairstyles
				value = 0
			}
		}

		is_valid_custom = {
			#monarchs_journey_unlock = 7
			trigger_if = {
				limit = { exists = root }
				is_female = yes
			}
			trigger_else = {
				scope:female = yes
			}
		}

		weight = {
			base = 0
		}
	}

	female_hair_rtt_02_milla = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = hairstyles
				template = rtt_hairstyles
				value = 1
			}
		}

		is_valid_custom = {
			#monarchs_journey_unlock = 7
			trigger_if = {
				limit = { exists = root }
				is_female = yes
			}
			trigger_else = {
				scope:female = yes
			}
		}

		weight = {
			base = 0
		}
	}

	
	
#########################################################
##########################EPE############################
#########################################################	
	
	
#######################
###### Han Chinese #######
#######################


    han_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = han_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
					OR = {
						portrait_han_clothing_trigger = yes
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    han_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = han_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
					OR = {
						portrait_han_clothing_trigger = yes
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    han_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = han_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
					OR = {
						portrait_han_clothing_trigger = yes
					}
            }	
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    han_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = han_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
					OR = {
						portrait_han_clothing_trigger = yes
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }



	




#######################
###### Turkish #######
#######################

    turkish_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = turkish_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                OR = {
                    portrait_turkish_clothing_trigger = yes
					portrait_cuman_clothing_trigger = yes
					portrait_uyghur_clothing_trigger = yes	
					portrait_Khazar_clothing_trigger = yes	
					portrait_kirghiz_clothing_trigger = yes		
                    portrait_saka_clothing_trigger = yes	
                    portrait_tibetan_clothing_trigger = yes		
                    portrait_western_turk_clothing_trigger = yes	
                    portrait_magyar_clothing_trigger = yes						
                }					
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    turkish_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = turkish_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
                OR = {
                    portrait_turkish_clothing_trigger = yes
					portrait_cuman_clothing_trigger = yes	
					portrait_uyghur_clothing_trigger = yes	
					portrait_Khazar_clothing_trigger = yes	
					portrait_kirghiz_clothing_trigger = yes	
                    portrait_saka_clothing_trigger = yes	
                    portrait_tibetan_clothing_trigger = yes	
                    portrait_western_turk_clothing_trigger = yes	
                    portrait_magyar_clothing_trigger = yes						
                }			
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    turkish_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = turkish_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
                OR = {
                    portrait_turkish_clothing_trigger = yes
					portrait_cuman_clothing_trigger = yes	
					portrait_uyghur_clothing_trigger = yes	
					portrait_Khazar_clothing_trigger = yes	
					portrait_kirghiz_clothing_trigger = yes	
                    portrait_saka_clothing_trigger = yes	
                    portrait_tibetan_clothing_trigger = yes	
                    portrait_western_turk_clothing_trigger = yes	
                    portrait_magyar_clothing_trigger = yes						
                }			
            }	
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    turkish_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = turkish_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
                OR = {
                    portrait_turkish_clothing_trigger = yes
					portrait_cuman_clothing_trigger = yes	
					portrait_uyghur_clothing_trigger = yes	
					portrait_Khazar_clothing_trigger = yes	
					portrait_kirghiz_clothing_trigger = yes	
                    portrait_saka_clothing_trigger = yes
                    portrait_tibetan_clothing_trigger = yes	
                    portrait_western_turk_clothing_trigger = yes	
                    portrait_magyar_clothing_trigger = yes						
                }			
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

	
#######################
###### French #######
#######################

    french_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = french_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                portrait_french_clothing_trigger = yes
				EPE_culture_era_high_medieval_trigger = yes						
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    french_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = french_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
                portrait_french_clothing_trigger = yes
				EPE_culture_era_high_medieval_trigger = yes						
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    french_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = french_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
                portrait_french_clothing_trigger = yes
				EPE_culture_era_high_medieval_trigger = yes					
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    french_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = french_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
                portrait_french_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }	
	
	
#######################
###### Southern Italian/Italians #######
#######################

    southern_italian_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = southern_italian_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                portrait_italian_clothing_trigger = yes
				EPE_culture_era_high_medieval_trigger = yes					
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    southern_italian_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = southern_italian_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
                portrait_italian_clothing_trigger = yes
				EPE_culture_era_high_medieval_trigger = yes					
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    southern_italian_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = southern_italian_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
                portrait_italian_clothing_trigger = yes
				EPE_culture_era_high_medieval_trigger = yes					
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    southern_italian_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = southern_italian_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
                portrait_italian_clothing_trigger = yes
            }

            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }


#######################
###### East  africa #######
#######################

    ethiopian_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = ethiopian_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                portrait_east_african_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    ethiopian_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = ethiopian_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
                portrait_east_african_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    ethiopian_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = ethiopian_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
                portrait_east_african_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    ethiopian_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = ethiopian_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
                portrait_east_african_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }



#######################
###### Iranian #######
#######################

    iranian_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = iranian_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                portrait_iranian_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    iranian_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = iranian_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
                portrait_iranian_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    iranian_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = iranian_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
                portrait_iranian_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    iranian_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = iranian_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
                portrait_iranian_clothing_trigger = yes
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }


#######################
###### Eastern Iranian #######
#######################

    eastern_iranian_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = eastern_iranian_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                portrait_early_eastern_iranian_trigger = yes		
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    eastern_iranian_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = eastern_iranian_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
                portrait_early_eastern_iranian_trigger = yes			
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    eastern_iranian_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = eastern_iranian_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
                portrait_early_eastern_iranian_trigger = yes			
            }	
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    eastern_iranian_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = eastern_iranian_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
                portrait_early_eastern_iranian_trigger = yes			
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }


#######################
###### Turkish #######
#######################

    seljuk_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = turkish_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                portrait_seljuk_clothing_trigger = yes	
				EPE_culture_era_early_medieval_trigger = yes						
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    seljuk_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = turkish_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
                portrait_seljuk_clothing_trigger = yes	
				EPE_culture_era_early_medieval_trigger = yes						
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    seljuk_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = turkish_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
                portrait_seljuk_clothing_trigger = yes
				EPE_culture_era_early_medieval_trigger = yes						
            }	
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    seljuk_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = turkish_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
                portrait_seljuk_clothing_trigger = yes	
				EPE_culture_era_early_medieval_trigger = yes						
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }






#######################
###### Northern Slav/Early Slavs #######
#######################

    northern_slav_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = northern_slav_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                OR = {
								AND = {
					portrait_northern_slav_clothing_trigger = yes	
				portrait_norse_flavor_dlc_trigger = yes						
								}							
				}	
                			
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    northern_slav_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = northern_slav_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
                OR = {
								AND = {
					portrait_northern_slav_clothing_trigger = yes	
				    portrait_norse_flavor_dlc_trigger = yes						
								}
							
				}	
                			
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    northern_slav_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = northern_slav_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
                OR = {
				portrait_northern_slav_clothing_trigger = yes	
				portrait_balto_finnic_clothing_trigger = yes																
				}
                			
            }	
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    northern_slav_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = northern_slav_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
                OR = {
				portrait_northern_slav_clothing_trigger = yes	
				portrait_balto_finnic_clothing_trigger = yes																
				}
                			
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }



##########################################################################
####Balto-Finnic
##########################################################################



    balto_finnic_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = balto_finnic_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
                OR = {
								AND = {
				portrait_balto_finnic_clothing_trigger = yes				
				portrait_norse_flavor_dlc_trigger = yes					
								}								
				}	
                			
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    balto_finnic_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = balto_finnic_slav_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
                OR = {
								AND = {
				portrait_balto_finnic_clothing_trigger = yes				
				portrait_norse_flavor_dlc_trigger = yes					
								}								
				}	
                			
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }
	
	
##########################################################################
####Burmese  
##########################################################################	

    burmese_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = assamese_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
					OR = {
						portrait_burmese_clothing_trigger = yes
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    burmese_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = assamese_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
					OR = {
						portrait_burmese_clothing_trigger = yes
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    burmese_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = assamese_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
					OR = {
						portrait_burmese_clothing_trigger = yes
					}
            }	
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    burmese_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = assamese_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
					OR = {
						portrait_burmese_clothing_trigger = yes
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }	
	
	
##########################################################################
####Georgian  
##########################################################################	

    georgian_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = caucasus_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
					OR = {
                       portrait_georgian_clothing_trigger = yes					
				       portrait_bulgarian_clothing_trigger = yes	
				       portrait_armenian_clothing_trigger = yes	
				       portrait_south_slav_clothing_trigger = yes								
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    georgian_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = caucasus_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
					OR = {
                       portrait_georgian_clothing_trigger = yes					
				       portrait_bulgarian_clothing_trigger = yes	
				       portrait_armenian_clothing_trigger = yes	
				       portrait_south_slav_clothing_trigger = yes								
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    georgian_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = caucasus_hairstyles_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly_no_beard
					}					
				}
					OR = {
                       portrait_georgian_clothing_trigger = yes					
				       portrait_bulgarian_clothing_trigger = yes	
				       portrait_armenian_clothing_trigger = yes	
				       portrait_south_slav_clothing_trigger = yes								
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    georgian_afro = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = caucasus_hairstyles_afro
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_afro
					}
					has_gene = {
						category = gene_hair_type
						template = hair_afro_no_beard
					}					
				}
					OR = {
                       portrait_georgian_clothing_trigger = yes					
				       portrait_bulgarian_clothing_trigger = yes	
				       portrait_armenian_clothing_trigger = yes	
				       portrait_south_slav_clothing_trigger = yes								
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }
	
	
	
###Merovingian (frankish)
    merovingian_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = merovingian_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 100
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
					OR = {
						portrait_merovingian_clothing_trigger = yes					
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    merovingian_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = merovingian_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 100
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
					OR = {
						portrait_merovingian_clothing_trigger = yes					
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }	
	
	
	
    catholic_devoted_hairstyles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = catholic_devoted_hairstyles
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 101
				OR = {
					religion = religion:christianity_religion
				}
				NOT = {
					faith.religious_head = this
				}
				AND ={
					OR = {
						is_theocratic_lessee = yes
						AND = { is_ruler = yes has_government = theocracy_government }
						has_trait = devoted
					}
				}
            }
        }
    }	
	
##########################################################################
####Gaelic/Irish  
##########################################################################	
	
    gaelic_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = gaelic_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
					OR = {
						portrait_gaelic_clothing_trigger = yes						
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    gaelic_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = gaelic_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
					OR = {
						portrait_gaelic_clothing_trigger = yes						
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }	
	
	
##########################################################################
####Early West Slav
##########################################################################
	
    early_west_slav_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = gaelic_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
					OR = {
								AND = {
				    portrait_west_slav_clothing_trigger = yes					
		###tribal medieval headgears		
			OR = {
				EPE_culture_era_early_medieval_trigger = yes					
				}
								}					
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    early_west_slav_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = gaelic_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
					OR = {
								AND = {
				    portrait_west_slav_clothing_trigger = yes					
		###tribal medieval headgears		
			OR = {
				EPE_culture_era_early_medieval_trigger = yes					
				}
								}						
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }	
	
	
	
    early_western_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = early_western_hairstyles_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                OR = {
                    NOT = { exists = this }
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_no_beard
					}					
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
					OR = {
						AND = {					
						portrait_western_clothing_trigger = yes
				        EPE_culture_era_early_medieval_trigger = yes						
								}						
						AND = {
						portrait_iberia_clothing_trigger = yes
						portrait_iberia_trigger = yes	
				        EPE_culture_era_early_medieval_trigger = yes						
								}
						AND = {					
						portrait_hungarian_clothing_trigger = yes
				        EPE_culture_era_early_medieval_trigger = yes						
								}
						AND = {					
						portrait_anglo_saxon_clothing_trigger = yes
				        EPE_culture_era_early_medieval_trigger = yes						
								}
						AND = {					
						portrait_polish_clothing_trigger = yes
				        EPE_culture_era_early_medieval_trigger = yes						
								}
						AND = {					
						portrait_italian_clothing_trigger = yes
				        EPE_culture_era_early_medieval_trigger = yes						
								}	
						AND = {					
						portrait_french_clothing_trigger = yes
				        EPE_culture_era_early_medieval_trigger = yes						
								}								
						AND = {
				        portrait_west_slav_clothing_trigger = yes
		                ###High medieval headgears		
				        OR = {
				        EPE_culture_era_early_medieval_trigger = yes	##High to late era					
				        }
							}
						AND = {					
						portrait_german_clothing_trigger = yes
				        EPE_culture_era_early_medieval_trigger = yes						
							}						
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }

    early_western_wavy = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = early_western_hairstyles_wavy
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 55
                exists = this
                OR = {
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy_no_beard
					}					
				}
					OR = {
						AND = {					
						portrait_western_clothing_trigger = yes
				        EPE_culture_era_early_medieval_trigger = yes						
								}						
						AND = {
						portrait_iberia_clothing_trigger = yes
						portrait_iberia_trigger = yes	
				        EPE_culture_era_early_medieval_trigger = yes						
								}
						AND = {					
						portrait_hungarian_clothing_trigger = yes
				        EPE_culture_era_early_medieval_trigger = yes						
								}
						AND = {					
						portrait_anglo_saxon_clothing_trigger = yes
				        EPE_culture_era_early_medieval_trigger = yes						
								}
						AND = {					
						portrait_polish_clothing_trigger = yes
				        EPE_culture_era_early_medieval_trigger = yes						
								}
						AND = {					
						portrait_italian_clothing_trigger = yes
				        EPE_culture_era_early_medieval_trigger = yes						
								}	
						AND = {					
						portrait_french_clothing_trigger = yes
				        EPE_culture_era_early_medieval_trigger = yes						
								}								
						AND = {
				        portrait_west_slav_clothing_trigger = yes
		                ###High medieval headgears		
				        OR = {
				        EPE_culture_era_early_medieval_trigger = yes	##High to late era					
				           }
								}
						AND = {					
						portrait_german_clothing_trigger = yes
				        EPE_culture_era_early_medieval_trigger = yes						
								}						
					}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }		
	
	
	
    slavic_warrior = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = slavic_hairstyles_warrior
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
				exists = this
				culture = { 
					OR = {
						has_cultural_pillar = heritage_south_slavic
						has_cultural_pillar = heritage_west_slavic
						has_cultural_pillar = heritage_east_slavic
					}
				}
				OR = {
					portrait_has_trait_trigger = { TRAIT = education_martial_1 }
					portrait_has_trait_trigger = { TRAIT = education_martial_2 }
					portrait_has_trait_trigger = { TRAIT = education_martial_3 }
					portrait_has_trait_trigger = { TRAIT = education_martial_4 }
				}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }
	
    hungarian_warrior = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = hungarian_hairstyles_warrior
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
				exists = this
				culture = { has_cultural_pillar = heritage_magyar }
				OR = {
					portrait_has_trait_trigger = { TRAIT = education_martial_1 }
					portrait_has_trait_trigger = { TRAIT = education_martial_2 }
					portrait_has_trait_trigger = { TRAIT = education_martial_3 }
					portrait_has_trait_trigger = { TRAIT = education_martial_4 }
				}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }	
	
	
	
    norman_warrior = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = hairstyles
                template = norman_hairstyles_warrior
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
				exists = this
				portrait_norman_clothing_trigger = yes
				OR = {
					portrait_has_trait_trigger = { TRAIT = education_martial_1 }
					portrait_has_trait_trigger = { TRAIT = education_martial_2 }
					portrait_has_trait_trigger = { TRAIT = education_martial_3 }
					portrait_has_trait_trigger = { TRAIT = education_martial_4 }
				}
            }
            modifier = {
                add = -100
                exists = this
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
        }
    }		
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
}