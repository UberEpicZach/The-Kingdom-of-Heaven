# Make sure the weights here match up best as possible with the custom_beards set
beards = {
	usage = game
	selection_behavior = weighted_random
	no_beard_for_children = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = no_beard
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = { 
				add = 100
				scope:age < 18
			}
		}
	}
	has_no_beard = {
		# This is to give a random chance of a clean shaven look
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = no_beard
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 30
			modifier = {
				add = -50
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
			portrait_clean_shaven_clothing_modifier = yes
		}
	}
	western_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = western_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					portrait_western_clothing_trigger = yes
					portrait_english_clothing_trigger = yes
					#portrait_byzantine_clothing_trigger = yes
					portrait_italian_clothing_trigger = yes
					AND = {
						portrait_iberia_clothing_trigger = yes
						portrait_iberia_trigger = yes
					}
					portrait_anglo_saxon_clothing_trigger = yes
					portrait_polish_clothing_trigger = yes
					portrait_west_slav_clothing_trigger = yes
					portrait_german_clothing_trigger = yes
					#portrait_georgian_clothing_trigger = yes	
					#portrait_bulgarian_clothing_trigger = yes	
					#portrait_armenian_clothing_trigger = yes	
					#portrait_south_slav_clothing_trigger = yes						
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_western_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	western_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = western_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					portrait_western_clothing_trigger = yes
					portrait_english_clothing_trigger = yes
					#portrait_byzantine_clothing_trigger = yes
					portrait_italian_clothing_trigger = yes
					AND = {
						portrait_iberia_clothing_trigger = yes
						portrait_iberia_trigger = yes
					}
					portrait_anglo_saxon_clothing_trigger = yes
					portrait_polish_clothing_trigger = yes
					portrait_west_slav_clothing_trigger = yes
					portrait_german_clothing_trigger = yes
					#portrait_georgian_clothing_trigger = yes	
					#portrait_bulgarian_clothing_trigger = yes	
					#portrait_armenian_clothing_trigger = yes	
					#portrait_south_slav_clothing_trigger = yes						
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_western_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	mena_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = mena_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					portrait_mena_clothing_trigger = yes
					portrait_african_clothing_trigger = yes
					portrait_dde_abbasid_clothing_trigger = yes
					portrait_central_african_clothing_trigger = yes
					portrait_east_african_clothing_trigger = yes
					AND = {
						portrait_iberia_muslim_clothing_trigger = yes
						portrait_iberia_muslim_trigger = yes
					}
					portrait_maghreb_clothing_trigger = yes
					portrait_sahelian_clothing_trigger = yes
					portrait_bedouin_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					portrait_mena_clothing_trigger = yes
					portrait_african_clothing_trigger = yes
					portrait_dde_abbasid_clothing_trigger = yes
					portrait_central_african_clothing_trigger = yes
					portrait_east_african_clothing_trigger = yes
					AND = {
						portrait_iberia_muslim_clothing_trigger = yes
						portrait_iberia_muslim_trigger = yes
					}
					portrait_maghreb_clothing_trigger = yes
					portrait_sahelian_clothing_trigger = yes
					portrait_bedouin_clothing_trigger = yes
				}
				NOT = {
					# The Prophet Muhammad does not have a portrait
					this = character:33922					# Prophet Muhammad
					has_character_flag = has_scripted_appearance
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
					this = character:33922					# Prophet Muhammad
				}
			}
		}
	}
	mena_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = mena_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					portrait_mena_clothing_trigger = yes
					portrait_african_clothing_trigger = yes
					portrait_dde_abbasid_clothing_trigger = yes
					portrait_central_african_clothing_trigger = yes
					portrait_east_african_clothing_trigger = yes
					AND = {
						portrait_iberia_muslim_clothing_trigger = yes
						portrait_iberia_muslim_trigger = yes
					}
					portrait_maghreb_clothing_trigger = yes
					portrait_sahelian_clothing_trigger = yes
					portrait_bedouin_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					portrait_mena_clothing_trigger = yes
					portrait_african_clothing_trigger = yes
					portrait_dde_abbasid_clothing_trigger = yes
					portrait_central_african_clothing_trigger = yes
					portrait_east_african_clothing_trigger = yes
					AND = {
						portrait_iberia_muslim_clothing_trigger = yes
						portrait_iberia_muslim_trigger = yes
					}
					portrait_maghreb_clothing_trigger = yes
					portrait_sahelian_clothing_trigger = yes
					portrait_bedouin_clothing_trigger = yes
				}
				NOT = {
					# The Prophet Muhammad does not have a portrait
					this = character:33922					# Prophet Muhammad
					has_character_flag = has_scripted_appearance
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
					this = character:33922					# Prophet Muhammad
				}
			}
		}
	}
	##########################################################################
	####Indian non-Muslim/Hindu 
	##########################################################################
	indian_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = indian_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					AND = {
						portrait_south_indian_clothing_trigger = yes
						portrait_indian_non_muslim_trigger = yes
					}
					AND = {
						portrait_indian_clothing_trigger = yes
						portrait_indian_non_muslim_trigger = yes
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					AND = {
						portrait_south_indian_clothing_trigger = yes
						portrait_indian_non_muslim_trigger = yes
					}
					AND = {
						portrait_indian_clothing_trigger = yes
						portrait_indian_non_muslim_trigger = yes
					}
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	indian_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = indian_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					AND = {
						portrait_south_indian_clothing_trigger = yes
						portrait_indian_non_muslim_trigger = yes
					}
					AND = {
						portrait_indian_clothing_trigger = yes
						portrait_indian_non_muslim_trigger = yes
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					AND = {
						portrait_south_indian_clothing_trigger = yes
						portrait_indian_non_muslim_trigger = yes
					}
					AND = {
						portrait_indian_clothing_trigger = yes
						portrait_indian_non_muslim_trigger = yes
					}
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	thin_beards = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = thin_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				exists = this
				has_gene = {
					category = gene_hair_type
					template = hair_straight_thin_beard
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				trigger_if = {
					limit = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight_thin_beard
					}
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	steppe_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = steppe_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				portrait_steppe_clothing_trigger = yes
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_steppe_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	steppe_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = steppe_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				portrait_steppe_clothing_trigger = yes
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_steppe_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	northern_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = northern_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					portrait_northern_clothing_trigger = yes
					AND = {
						portrait_northern_slav_clothing_trigger = yes
						NOT = {
							portrait_norse_flavor_dlc_trigger = yes
						}
					}
					AND = {
						portrait_balto_finnic_clothing_trigger = yes
						NOT = {
							portrait_norse_flavor_dlc_trigger = yes
						}
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					portrait_northern_clothing_trigger = yes
					AND = {
						portrait_northern_slav_clothing_trigger = yes
						NOT = {
							portrait_norse_flavor_dlc_trigger = yes
						}
					}
					AND = {
						portrait_balto_finnic_clothing_trigger = yes
						NOT = {
							portrait_norse_flavor_dlc_trigger = yes
						}
					}
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	northern_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = northern_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 90
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					portrait_northern_clothing_trigger = yes
					portrait_balto_finnic_clothing_trigger = yes
					AND = {
						portrait_northern_slav_clothing_trigger = yes
						NOT = {
							portrait_norse_flavor_dlc_trigger = yes
						}
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					portrait_northern_clothing_trigger = yes
					portrait_balto_finnic_clothing_trigger = yes
					AND = {
						portrait_northern_slav_clothing_trigger = yes
						NOT = {
							portrait_norse_flavor_dlc_trigger = yes
						}
					}
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	african = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = sub_saharan_beards_afro
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				exists = this
				has_gene = {
					category = gene_hair_type
					template = hair_afro
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_african_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	fp1_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = fp1_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 90
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				portrait_fp1_norse_clothing_trigger = yes
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_fp1_norse_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	fp1_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = fp1_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				portrait_fp1_norse_clothing_trigger = yes
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_northern_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	##########################################################################
	####Indian Muslim
	##########################################################################
	northern_indian_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = northern_indian_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					AND = {
						portrait_south_indian_clothing_trigger = yes
						portrait_indian_muslim_trigger = yes
					}
					AND = {
						portrait_indian_clothing_trigger = yes
						portrait_indian_muslim_trigger = yes
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					AND = {
						portrait_south_indian_clothing_trigger = yes
						portrait_indian_muslim_trigger = yes
					}
					AND = {
						portrait_indian_clothing_trigger = yes
						portrait_indian_muslim_trigger = yes
					}
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	northern_indian_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = northern_indian_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					AND = {
						portrait_south_indian_clothing_trigger = yes
						portrait_indian_muslim_trigger = yes
					}
					AND = {
						portrait_indian_clothing_trigger = yes
						portrait_indian_muslim_trigger = yes
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					AND = {
						portrait_south_indian_clothing_trigger = yes
						portrait_indian_muslim_trigger = yes
					}
					AND = {
						portrait_indian_clothing_trigger = yes
						portrait_indian_muslim_trigger = yes
					}
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	#######################
	###### French #######
	#######################
	french_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = french_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					portrait_french_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_french_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	french_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = french_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					portrait_french_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_french_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	#######################
	###### Han Chinese #######
	#######################
	han_thin_beards = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = han_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				exists = this
				has_gene = {
					category = gene_hair_type
					template = hair_straight_thin_beard
				}
				OR = {
					portrait_han_clothing_trigger = yes
					portrait_uyghur_clothing_trigger = yes
					portrait_balto_finnic_clothing_trigger = yes
					portrait_burmese_clothing_trigger = yes
					portrait_georgian_clothing_trigger = yes
					portrait_bulgarian_clothing_trigger = yes
					portrait_armenian_clothing_trigger = yes
					portrait_south_slav_clothing_trigger = yes
					portrait_saka_clothing_trigger = yes
					portrait_tibetan_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_han_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	han_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = turkish_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					portrait_han_clothing_trigger = yes
					portrait_uyghur_clothing_trigger = yes
					portrait_tibetan_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_han_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	han_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = han_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					portrait_han_clothing_trigger = yes
					portrait_uyghur_clothing_trigger = yes
					portrait_tibetan_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_han_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	#######################
	###### Eastern Turkic #######
	#######################
	turkish_thin_beards = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = turkish_thin_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				exists = this
				has_gene = {
					category = gene_hair_type
					template = hair_straight_thin_beard
				}
				OR = {
					portrait_turkish_clothing_trigger = yes
					portrait_Khazar_clothing_trigger = yes
					portrait_kirghiz_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_turkish_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	turkish_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = turkish_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					portrait_turkish_clothing_trigger = yes
					portrait_Khazar_clothing_trigger = yes
					portrait_kirghiz_clothing_trigger = yes
					portrait_saka_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_turkish_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	turkish_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = turkish_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					portrait_turkish_clothing_trigger = yes
					portrait_Khazar_clothing_trigger = yes
					portrait_kirghiz_clothing_trigger = yes
					portrait_saka_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_turkish_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	#######################
	###### Iranian #######
	#######################
	iranian_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = iranian_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					portrait_iranian_clothing_trigger = yes
					portrait_early_eastern_iranian_trigger = yes
					AND = {
						portrait_seljuk_clothing_trigger = yes
						EPE_culture_era_high_medieval_trigger = yes
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					portrait_iranian_clothing_trigger = yes
					portrait_early_eastern_iranian_trigger = yes
					AND = {
						portrait_seljuk_clothing_trigger = yes
						EPE_culture_era_high_medieval_trigger = yes
					}
				}
				NOT = {
					has_character_flag = has_scripted_appearance
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	iranian_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = iranian_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					portrait_iranian_clothing_trigger = yes
					portrait_early_eastern_iranian_trigger = yes
					AND = {
						portrait_seljuk_clothing_trigger = yes
						EPE_culture_era_high_medieval_trigger = yes
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					portrait_iranian_clothing_trigger = yes
					portrait_early_eastern_iranian_trigger = yes
					AND = {
						portrait_seljuk_clothing_trigger = yes
						EPE_culture_era_high_medieval_trigger = yes
					}
				}
				NOT = {
					has_character_flag = has_scripted_appearance
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	#######################
	###### Briton #######
	#######################
	gaelic_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = gaelic_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					portrait_gaelic_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					portrait_gaelic_clothing_trigger = yes
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	gaelic_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = gaelic_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					portrait_gaelic_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					portrait_gaelic_clothing_trigger = yes
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	#####No Facial hair gene
	##straight
	no_beard_for_gene_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = no_beard
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				exists = this
				has_gene = {
					category = gene_hair_type
					template = hair_straight_no_beard
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				has_gene = {
					category = gene_hair_type
					template = hair_straight_no_beard
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	##	wavy
	no_beard_for_gene_wavy = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = no_beard
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				exists = this
				has_gene = {
					category = gene_hair_type
					template = hair_wavy_no_beard
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				has_gene = {
					category = gene_hair_type
					template = hair_wavy_no_beard
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	##	curly
	no_beard_for_gene_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = no_beard
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				exists = this
				has_gene = {
					category = gene_hair_type
					template = hair_curly_no_beard
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				has_gene = {
					category = gene_hair_type
					template = hair_curly_no_beard
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	##	afro
	no_beard_for_gene_afro = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = no_beard
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				exists = this
				has_gene = {
					category = gene_hair_type
					template = hair_afro_no_beard
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				has_gene = {
					category = gene_hair_type
					template = hair_afro_no_beard
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	#######################
	###### Northern Slav/Early Slavs #######
	#######################
	northern_slav_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = northern_slav_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					AND = {
						portrait_northern_slav_clothing_trigger = yes
						portrait_norse_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_balto_finnic_clothing_trigger = yes
						portrait_norse_flavor_dlc_trigger = yes
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					AND = {
						portrait_northern_slav_clothing_trigger = yes
						portrait_norse_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_balto_finnic_clothing_trigger = yes
						portrait_norse_flavor_dlc_trigger = yes
					}
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	northern_slav_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = northern_slav_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 90
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				portrait_northern_slav_clothing_trigger = yes
				portrait_norse_flavor_dlc_trigger = yes
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_northern_slav_clothing_trigger = yes
				portrait_norse_flavor_dlc_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	##########################################################################
	####Burmese  
	##########################################################################	
	burmese_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = indian_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				portrait_burmese_clothing_trigger = yes
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_burmese_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	burmese_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = indian_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				portrait_burmese_clothing_trigger = yes
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_burmese_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	##########################################################################
	####Byzantine  
	##########################################################################	
	byzantine_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = byzantine_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					portrait_byzantine_clothing_trigger = yes
					portrait_georgian_clothing_trigger = yes
					portrait_bulgarian_clothing_trigger = yes
					portrait_armenian_clothing_trigger = yes
					portrait_south_slav_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_byzantine_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	byzantine_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = byzantine_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					portrait_byzantine_clothing_trigger = yes
					portrait_georgian_clothing_trigger = yes
					portrait_bulgarian_clothing_trigger = yes
					portrait_armenian_clothing_trigger = yes
					portrait_south_slav_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_byzantine_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	#######################
	###### Seljuk #######
	#######################
	seljuk_thin_beards = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = seljuk_thin_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				exists = this
				has_gene = {
					category = gene_hair_type
					template = hair_straight_thin_beard
				}
				OR = {
					portrait_seljuk_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_seljuk_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	seljuk_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = seljuk_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					AND = {
						portrait_seljuk_clothing_trigger = yes
						EPE_culture_era_early_medieval_trigger = yes
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_seljuk_clothing_trigger = yes
				EPE_culture_era_early_medieval_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	seljuk_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = seljuk_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					AND = {
						portrait_seljuk_clothing_trigger = yes
						EPE_culture_era_early_medieval_trigger = yes
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_seljuk_clothing_trigger = yes
				EPE_culture_era_early_medieval_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	#######################
	###### Cuman #######
	#######################
	cuman_thin_beards = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = cuman_thin_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				exists = this
				has_gene = {
					category = gene_hair_type
					template = hair_straight_thin_beard
				}
				OR = {
					portrait_cuman_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_cuman_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	cuman_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = cuman_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					portrait_cuman_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_cuman_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	cuman_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = cuman_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					portrait_cuman_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_cuman_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	#######################
	###### Western Turkic #######
	#######################
	western_turkic_thin_beards = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = western_turkic_thin_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				exists = this
				has_gene = {
					category = gene_hair_type
					template = hair_straight_thin_beard
				}
				OR = {
					portrait_western_turk_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_western_turk_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	western_turkic_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = western_turkic_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					portrait_western_turk_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_western_turk_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	western_turkic_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = western_turkic_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					portrait_western_turk_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_western_turk_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	#######################
	###### Magyar #######
	#######################
	magyar_thin_beards = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = magyar_thin_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				exists = this
				has_gene = {
					category = gene_hair_type
					template = hair_straight_thin_beard
				}
				OR = {
					portrait_hungarian_clothing_trigger = yes
					portrait_magyar_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_magyar_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	magyar_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = magyar_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					portrait_magyar_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_magyar_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	magyar_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = magyar_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					portrait_magyar_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_magyar_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	#######################
	###### Hungarian #######
	#######################
	hungarian_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = hungarian_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					portrait_hungarian_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_hungarian_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	hungarian_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = hungarian_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		# outfit_tags = { no_clothes }
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					portrait_hungarian_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_hungarian_clothing_trigger = yes
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	orthodox_beards = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = orthodox_beards
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				# Orthodox priests
				add = 200
				exists = this
				OR = {
					has_character_flag = need_priest_outfit
					is_theocratic_lessee = yes
					AND = {
						is_ruler = yes
						has_government = theocracy_government
					}
					AND = {
						# Orthodox patriarch
						exists = primary_title
						primary_title = {
							is_head_of_faith = yes
						}
					}
				}
				OR = {
					faith = faith:orthodox
					faith = faith:armenian_apostolic
					faith = faith:coptic
					faith = faith:messalian
					faith = faith:bogomilist
					faith = faith:paulician
					faith = faith:nestorian
				}
			}
		}
	}
	### FP2 Beards ###
	fp2_beards_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = fp2_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					AND = {
						portrait_iberia_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_maghreb_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
						NOT = {
							portrait_zaghawa_clothing_trigger = yes
						}
					}
					AND = {
						portrait_andalusian_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_iberia_muslim_clothing_trigger = yes
						portrait_iberia_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					AND = {
						portrait_iberia_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_maghreb_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
						NOT = {
							portrait_zaghawa_clothing_trigger = yes
						}
					}
					AND = {
						portrait_andalusian_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_iberia_muslim_clothing_trigger = yes
						portrait_iberia_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	fp2_beards_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = fp2_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					AND = {
						portrait_iberia_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_maghreb_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
						NOT = {
							portrait_zaghawa_clothing_trigger = yes
						}
					}
					AND = {
						portrait_andalusian_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_iberia_muslim_clothing_trigger = yes
						portrait_iberia_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					AND = {
						portrait_iberia_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_maghreb_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
						NOT = {
							portrait_zaghawa_clothing_trigger = yes
						}
					}
					AND = {
						portrait_andalusian_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_iberia_muslim_clothing_trigger = yes
						portrait_iberia_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	
	

	fp2_western_muslim_beards_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = fp2_beards_straight
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
							portrait_western_muslim_trigger = yes
							portrait_iberian_flavor_dlc_trigger = yes
							OR = {
								portrait_western_clothing_trigger = yes
								portrait_dde_hre_clothing_trigger = yes
								portrait_french_clothing_trigger = yes
								portrait_italian_clothing_trigger = yes
								portrait_hungarian_clothing_trigger = yes
								portrait_anglo_saxon_clothing_trigger = yes
								portrait_german_clothing_trigger = yes
								portrait_english_clothing_trigger = yes
								AND = {
									portrait_polish_clothing_trigger = yes
									###High medieval headgears		
									OR = {
										EPE_culture_era_high_medieval_trigger = yes										##High to late era			
										current_date >= 1026.1.1										##early era				
									}
								}
								AND = {
									portrait_west_slav_clothing_trigger = yes
									###High medieval headgears		
									OR = {
										EPE_culture_era_high_medieval_trigger = yes										##High to late era			
										current_date >= 1044.1.1										##early era				
									}
								}
							}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
							portrait_western_muslim_trigger = yes
							portrait_iberian_flavor_dlc_trigger = yes
							OR = {
								portrait_western_clothing_trigger = yes
								portrait_dde_hre_clothing_trigger = yes
								portrait_french_clothing_trigger = yes
								portrait_italian_clothing_trigger = yes
								portrait_hungarian_clothing_trigger = yes
								portrait_anglo_saxon_clothing_trigger = yes
								portrait_german_clothing_trigger = yes
								portrait_english_clothing_trigger = yes
								AND = {
									portrait_polish_clothing_trigger = yes
									###High medieval headgears		
									OR = {
										EPE_culture_era_high_medieval_trigger = yes										##High to late era			
										current_date >= 1026.1.1										##early era				
									}
								}
								AND = {
									portrait_west_slav_clothing_trigger = yes
									###High medieval headgears		
									OR = {
										EPE_culture_era_high_medieval_trigger = yes										##High to late era			
										current_date >= 1044.1.1										##early era				
									}
								}
							}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	fp2_western_muslim_beards_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = fp2_beards_curly
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
							portrait_western_muslim_trigger = yes
							portrait_iberian_flavor_dlc_trigger = yes
							OR = {
								portrait_western_clothing_trigger = yes
								portrait_dde_hre_clothing_trigger = yes
								portrait_french_clothing_trigger = yes
								portrait_italian_clothing_trigger = yes
								portrait_hungarian_clothing_trigger = yes
								portrait_anglo_saxon_clothing_trigger = yes
								portrait_german_clothing_trigger = yes
								portrait_english_clothing_trigger = yes
								AND = {
									portrait_polish_clothing_trigger = yes
									###High medieval headgears		
									OR = {
										EPE_culture_era_high_medieval_trigger = yes										##High to late era			
										current_date >= 1026.1.1										##early era				
									}
								}
								AND = {
									portrait_west_slav_clothing_trigger = yes
									###High medieval headgears		
									OR = {
										EPE_culture_era_high_medieval_trigger = yes										##High to late era			
										current_date >= 1044.1.1										##early era				
									}
								}
							}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
							portrait_western_muslim_trigger = yes
							portrait_iberian_flavor_dlc_trigger = yes
							OR = {
								portrait_western_clothing_trigger = yes
								portrait_dde_hre_clothing_trigger = yes
								portrait_french_clothing_trigger = yes
								portrait_italian_clothing_trigger = yes
								portrait_hungarian_clothing_trigger = yes
								portrait_anglo_saxon_clothing_trigger = yes
								portrait_german_clothing_trigger = yes
								portrait_english_clothing_trigger = yes
								AND = {
									portrait_polish_clothing_trigger = yes
									###High medieval headgears		
									OR = {
										EPE_culture_era_high_medieval_trigger = yes										##High to late era			
										current_date >= 1026.1.1										##early era				
									}
								}
								AND = {
									portrait_west_slav_clothing_trigger = yes
									###High medieval headgears		
									OR = {
										EPE_culture_era_high_medieval_trigger = yes										##High to late era			
										current_date >= 1044.1.1										##early era				
									}
								}
							}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}	
	
	
	
	
	
	
	
	##########################################################################
	####FP2 Mena
	##########################################################################	
	mena_fp2_beards_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = mena_fp2_beards_straight
				range = {
					0
					0.53
				}				# For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					AND = {
						portrait_mena_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_dde_abbasid_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_bedouin_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					AND = {
						portrait_mena_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_dde_abbasid_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_bedouin_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
				}
				NOT = {
					# The Prophet Muhammad does not have a portrait
					this = character:33922					# Prophet Muhammad
					has_character_flag = has_scripted_appearance
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
					this = character:33922					# Prophet Muhammad
				}
			}
		}
	}
	mena_fp2_beards_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = mena_fp2_beards_curly
				range = {
					0
					0.48
				}				# For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					AND = {
						portrait_mena_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_dde_abbasid_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_bedouin_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					AND = {
						portrait_mena_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_dde_abbasid_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_bedouin_clothing_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
				}
				NOT = {
					# The Prophet Muhammad does not have a portrait
					this = character:33922					# Prophet Muhammad
					has_character_flag = has_scripted_appearance
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
					this = character:33922					# Prophet Muhammad
				}
			}
		}
	}
	##########################################################################
	####Indian non-Muslim/Hindu Fp2
	##########################################################################
	indian_non_muslim_fp2_beards_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = mena_fp2_beards_straight
				range = {
					0.79
					1
				}				# For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					AND = {
						portrait_south_indian_clothing_trigger = yes
						portrait_indian_non_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_indian_clothing_trigger = yes
						portrait_indian_non_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					AND = {
						portrait_south_indian_clothing_trigger = yes
						portrait_indian_non_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_indian_clothing_trigger = yes
						portrait_indian_non_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	indian_non_muslim_fp2_beards_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = mena_fp2_beards_curly
				range = {
					0.74
					1
				}				# For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					AND = {
						portrait_south_indian_clothing_trigger = yes
						portrait_indian_non_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_indian_clothing_trigger = yes
						portrait_indian_non_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					AND = {
						portrait_south_indian_clothing_trigger = yes
						portrait_indian_non_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_indian_clothing_trigger = yes
						portrait_indian_non_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	##########################################################################
	####Indian Muslim
	##########################################################################
	indian_muslim_fp2_beards_straight = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = mena_fp2_beards_straight
				range = {
					0.54
					0.77
				}				# For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
				}
				OR = {
					AND = {
						portrait_south_indian_clothing_trigger = yes
						portrait_indian_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_indian_clothing_trigger = yes
						portrait_indian_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					AND = {
						portrait_south_indian_clothing_trigger = yes
						portrait_indian_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_indian_clothing_trigger = yes
						portrait_indian_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	indian_muslim_fp2_beards_curly = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = mena_fp2_beards_curly
				range = {
					0.49
					0.71
				}				# For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}
				}
				OR = {
					AND = {
						portrait_south_indian_clothing_trigger = yes
						portrait_indian_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_indian_clothing_trigger = yes
						portrait_indian_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				OR = {
					AND = {
						portrait_south_indian_clothing_trigger = yes
						portrait_indian_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
					AND = {
						portrait_indian_clothing_trigger = yes
						portrait_indian_muslim_trigger = yes
						portrait_iberian_flavor_dlc_trigger = yes
					}
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	
	
	
	##########################################################################
	####Western Greek
	##########################################################################
	western_fp2_beards = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = western_greek_fp2_beards
				range = {
					0.00
					0.43
				}				# For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}					
				}
				portrait_iberian_flavor_dlc_trigger = yes
				OR = {
					portrait_western_clothing_trigger = yes
					portrait_english_clothing_trigger = yes
					portrait_gaelic_clothing_trigger = yes					
                    portrait_french_clothing_trigger = yes
                    portrait_anglo_saxon_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_iberian_flavor_dlc_trigger = yes
				OR = {
					portrait_western_clothing_trigger = yes
					portrait_english_clothing_trigger = yes
					portrait_gaelic_clothing_trigger = yes					
                    portrait_french_clothing_trigger = yes
                    portrait_anglo_saxon_clothing_trigger = yes
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}

	german_fp2_beards = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = western_greek_fp2_beards
				range = {
					0.00
					0.48
				}				# For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}					
				}
				portrait_iberian_flavor_dlc_trigger = yes
				OR = {
					portrait_german_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_iberian_flavor_dlc_trigger = yes
				OR = {
					portrait_western_clothing_trigger = yes
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}


	greek_fp2_beards = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = western_greek_fp2_beards
				range = {
					0.46
					0.90
				}				# For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}					
				}
				portrait_iberian_flavor_dlc_trigger = yes
				OR = {
					portrait_byzantine_clothing_trigger = yes
					portrait_georgian_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_iberian_flavor_dlc_trigger = yes
				OR = {
					portrait_byzantine_clothing_trigger = yes
					portrait_georgian_clothing_trigger = yes
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}
	
	
	
	
	armenia_fp2_beards = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = beards
				template = western_greek_fp2_beards
				range = {
					0.46
					1
				}				# For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 70
				OR = {
					NOT = {
						exists = this
					}
					has_gene = {
						category = gene_hair_type
						template = hair_straight
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_wavy
					}
					has_gene = {
						category = gene_hair_type
						template = hair_curly
					}					
				}
				portrait_iberian_flavor_dlc_trigger = yes
				OR = {
					portrait_armenian_clothing_trigger = yes
				}
			}
			modifier = {
				# Muslims should always have a beard
				add = 200
				scope:faith.religion = religion:islam_religion
				portrait_iberian_flavor_dlc_trigger = yes
				OR = {
					portrait_armenian_clothing_trigger = yes
				}
			}
			modifier = {
				add = -100
				exists = this
				OR = {
					is_from_ruler_designer = yes
					has_character_flag = has_scripted_appearance
				}
			}
		}
	}	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
}
