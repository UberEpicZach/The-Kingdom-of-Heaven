

# ###REQUIRED YEAR TRIGGER
# required_year_trigger = {
# 	custom_description = {
# 		text = required_year
# 		value = $YEAR$
# 		current_year = $YEAR$
# 	}
# }
# required_year_greater_or_equal_trigger = {
# 	custom_description = {
# 		text = required_year_greater_or_equal
# 		value = $YEAR$
# 		current_year >= $YEAR$
# 	}
# }

# required_year_lesser_or_equal_trigger = {
# 	custom_description = {
# 		text = required_year_lesser_or_equal
# 		value = $YEAR$
# 		current_year <= $YEAR$
# 	}
# }


# is_ranchy_woman_in_my_dungeon = {
# 	 character:205730 = {
# 		is_imprisoned_by = character:204500
# 	 }
# }


familytrigger = {
	is_male = yes
	is_ruler = no
	root.primary_title = {
		place_in_line_of_succession = {
		  target = PREV
		  value > 2
		}
	}
}


is_sea = {
    exists = commanding_army.location
	commanding_army.location = {
		NOR = {
			terrain = plains
			terrain = farmlands
			terrain = hills
			terrain = mountains
			terrain = desert
			terrain = desert_mountains
			terrain = oasis
			terrain = jungle
			terrain = forest
			terrain = taiga
			terrain = wetlands
			terrain = steppe
			terrain = floodplains
			terrain = drylands 
		}
	}
}


wifelover = {
	exists = primary_spouse.location
	
	any_relation = {
		type = lover 
		location = primary_spouse.location
	}
}

assassins_mongol_trigger_koh = {
    NOT = { exists = global_var:mongols_provoke_assassins }
    exists = global_var:assassin_holy_order_title.holder
    global_var:assassin_holy_order_title.holder = { has_government = holy_order_county_government }
	OR = {
		AND = {
			exists = title:e_mongol_empire
			character_is_realm_neighbor = title:e_mongol_empire.holder
		}
		AND = {
			exists = title:e_ilkhanate
			character_is_realm_neighbor = title:e_ilkhanate.holder
		}
	}
}

# assassins_ayyubid_trigger_koh = {
#     NOT = { exists = global_var:ayyubids_provoke_assassins }
#     exists = title:d_hashshashin.holder
#     title:d_hashshashin.holder = {
#         has_government = holy_order_county_government
#     }
# 	OR = {
# 		AND = {
# 			exists = title:e_arabia
# 			character_is_realm_neighbor = title:e_arabia.holder
# 		}
# 		AND = {
# 			exists = title:k_syria
# 			character_is_realm_neighbor = title:k_syria.holder
# 		}
# 	}
# }

# KoH_is_loaded = {
# 	always = yes
# }

martyrs_death_trigger = {
	death_reason = death_sacrificed_to_gods
}

vassal_trigger = {
	any_vassal = {
		save_temporary_scope_as = tmp_vassal
		any_claim = {
			explicit = yes # Whichever
			pressed = no # Whichever
			tier = tier_county
			is_neighbor_to_realm = scope:tmp_vassal
			holder.liege = prev.liege
			save_temporary_scope_as = tmp_county
		}
		save_temporary_scope_as = vassal_1
		any_claim = {
			explicit = yes # Whichever
			pressed = no # Whichever
			tier = tier_county
			is_neighbor_to_realm = scope:vassal_1
			holder.liege = scope:vassal_1.liege
			save_scope_as = county
			holder = {save_temporary_scope_as = vassal_2}
		}
	}
}

is_assassin_trigger = {
	OR = {
		AND = {
			exists = top_liege
			top_liege = title:k_nizari_state.holder
			
		}
		has_title = title:k_nizari_state
		has_title = title:d_hashshashin
		has_trait = assassin_member
	}
}