# DO NOT EDIT THIS FILE, MAKE YOUR OWN!

add_sidebar_button = { # NAME = string
	global_var:dummy_male = {
		if = {
			# Only do this if the sidebar button isn't already in the list.
			limit = {
				NOT = {
					is_target_in_variable_list = {
						name = sidebar_buttons
						target = flag:$NAME$
					}
				}
			}
			# To make the "previous item" fetchable in GUI 
			# Should end up saving the last entry only.
			every_in_list = {
				variable = sidebar_buttons
				save_scope_as = previous_sidebar_button
			}
			if = {
				limit = {exists = scope:previous_sidebar_button}
				set_variable = {
					name = sidebar_button_$NAME$
					value = scope:previous_sidebar_button
				}
			}
			# Make current item fetchable in GUI
			add_to_variable_list = {
				name = sidebar_buttons 
				target = flag:$NAME$
			}
		}
	}
}
add_custom_gui = { # NAME = string
	global_var:dummy_male = {
		if = {
			# Only do this if the gui isn't already in the list.
			limit = {
				NOT = {
					is_target_in_variable_list = {
						name = custom_gui
						target = flag:$NAME$
					}
				}
			}
			# To make the "previous item" fetchable in GUI 
			# Should end up saving the last entry only.
			every_in_list = {
				variable = custom_gui
				save_scope_as = previous_custom_gui
			}
			if = {
				limit = {
					exists = scope:previous_custom_gui
				}
				set_variable = {
					name = custom_gui_$NAME$
					value = scope:previous_custom_gui
				}
			}
			# Make current item fetchable in GUI
			add_to_variable_list = {
				name = custom_gui 
				target = flag:$NAME$
			}
		}
	}
}
remove_sidebar_button = { # NAME = string
# Untested; Risky to use.
	global_var:dummy_male = {
		remove_list_variable = {name = sidebar_buttons target = flag:$NAME$}
		remove_variable = sidebar_button_$NAME$
	}
}

# For checking out the state of the dummy characters in-game:
befriend_dummy_male = {
	set_relation_friend = global_var:dummy_male
}
befriend_dummy_female = {
	set_relation_friend = global_var:dummy_female
}

# Set up indexation system for easy transfer of list positions from GUI; This gives every province a variable which corresponds to their position in /map_data/definitions.csv
initialize_province_indices = {
	set_local_variable = {name = idd value = 0}
	every_province = {
		set_variable = {name = index value = local_var:idd}
		change_local_variable = {
			name = idd
			add = 1
		}
	}
	remove_local_variable = idd
}
# Save provinces to the character for index access.
# Using enormous list in SGUIs can have severe performance impact! Be careful!
fetch_province_indices = {
	every_province = {
		prev = {add_to_variable_list = {name = indices target = prev}}
	}
}
# Shorter list to be used for performance reasons
fetch_medium_province_indices = {
	every_province = {
		limit = {
			exists = var:index 
			var:index < 1000
		}
		prev = {add_to_variable_list = {name = medium_indices target = prev}}
	}
}
fetch_small_province_indices = {
	every_province = {
		limit = {
			exists = var:index 
			var:index < 100
		}
		prev = {add_to_variable_list = {name = small_indices target = prev}}
	}
}
fetch_very_small_province_indices = {
	every_province = {
		limit = {
			exists = var:index 
			var:index < 10
		}
		prev = {add_to_variable_list = {name = very_small_indices target = prev}}
	}
}
