on_game_start = {
	on_actions = {
		MA_setup_world
	}
}
on_game_start_after_lobby = {
	on_actions = {
		MA_setup_innovations
		MA_setup_intros
	}
}
MA_setup_world = {
	effect = {
		MA_special_building_setup_effect = yes
		if = {
			limit = {
				game_start_date < 900.1.1
			}
			MA_867_setup_effect = yes
		}
		else_if = {
			limit = {
				game_start_date > 1050.1.1
			}
			MA_1066_setup_effect = yes
		}
	}
}
MA_setup_intros = {
	effect = {
		every_player = {
			limit = {
				culture = { has_cultural_pillar = heritage_byzantine }
			}
			trigger_event = MA_events_unique.0101
		}
	}
}
MA_setup_innovations = {
	effect = {
		every_culture_global = {
			if = {			#Latin
				limit = {
					exists = culture_head
					culture_head = {
						faith = {
							exists = religious_head
							religious_head = { has_title = title:k_papal_state }
						}
					}
				}
				set_variable = { name = MA_latin_culture value = this }
			}
			else_if = {		#Islamic
				limit = {
					exists = culture_head
					culture_head.faith = { religion_tag = islam_religion }
				}
				set_variable = { name = MA_islamic_culture value = this }
			}
			else_if = { 	#Byzantine
				limit = {
					exists = culture_head
					culture_head.religion = { is_in_family = rf_abrahamic } #jews, dualists too until they have their own
				}
				set_variable = { name = MA_byzantine_culture value = this }
			}
			else_if = { 	#Eastern
				limit = {
					exists = culture_head
					culture_head.religion = { is_in_family = rf_eastern }
				}
				set_variable = { name = MA_eastern_culture value = this }
			}
			else_if = { 	#African
				limit = {
					exists = culture_head
					culture_head.capital_province = { geographical_region = world_africa }
				}
				set_variable = { name = MA_african_culture value = this }
			}
			else_if = { 	#Pagan
				limit = {
					exists = culture_head
					culture_head = {
						religion = { is_in_family = rf_pagan }
						culture = {
							OR = {
								has_cultural_pillar = heritage_north_germanic
								has_cultural_pillar = heritage_balto_finnic
								has_cultural_pillar = heritage_west_slavic
								has_cultural_pillar = heritage_baltic
								has_cultural_pillar = heritage_east_slavic
								has_cultural_pillar = heritage_south_slavic
								has_cultural_pillar = heritage_volga_finnic
								has_cultural_pillar = heritage_ugro_permian
							}
						}
					}
				}
				set_variable = { name = MA_pagan_culture value = this }
			}
			else = { 	#Steppe
				#technically only pagans are left
				set_variable = { name = MA_steppe_culture value = this }
			}
		}
	}
}