# This file exists in order to manage the characters corresponding to the GUI functions GetDummyMale and GetDummyFemale.
# These are immortal beings that can be accessed and passed between script and GUI freely.
# This effectively makes them a Province of character type, and they can carry LocalizedText as global variables.
# DO NOT EDIT THIS FILE DIRECTLY!
# If you want to append effects to these sguis, do it by creating custom on_actions that are triggered by the ones that are invoked here!

custom_gui_initialize_male = {
	scope = character
	effect = {
		# Make character available to script by saving as global var
		set_global_variable = {
			name = dummy_male
			value = root
		}
		# Create indexation system
		# We use provinces as permanent storage for the indices so they can be access in both script and GUI.
		initialize_province_indices = yes
		fetch_very_small_province_indices = yes
		fetch_small_province_indices = yes
		fetch_medium_province_indices = yes
		fetch_province_indices = yes
		# Give access to modders to append effects via on_actions
		trigger_event = {on_action = on_after_gui_dummy_male}
	}
}
custom_gui_initialize_female = {
	scope = character
	effect = {
		# Make character available to script by saving as global var
		set_global_variable = {
			name = dummy_female
			value = root
		}
		# Create indexation system
		# We use provinces as permanent storage for the indices so they can be access in both script and GUI.
		fetch_very_small_province_indices = yes
		fetch_small_province_indices = yes
		fetch_medium_province_indices = yes
		fetch_province_indices = yes
		# Give access to modders to append effects via on_actions
		trigger_event = {on_action = on_after_gui_dummy_female}
	}
}
# Deprecated because is_widget_open exists and works fine.
#custom_gui_paused_male = {
#	scope = character
#	effect = {
#		remove_variable = custom_sidebar_loaded
#	}
#}
#custom_gui_unpaused_male = {
#	scope = character
#	effect = {
#		set_variable = {
#			name = custom_sidebar_loaded
#			value = flag:yes
#		}
#	}
#}
# For detecting if a GUI hasn't been active in a while.
custom_gui_save_year = {
	scope = character
	effect = {
		set_variable = {
			name = custom_gui_saved_year
			value = current_year
		}
	}
}
custom_gui_save_month = {
	scope = character
	effect = {
		set_variable = {
			name = custom_gui_saved_month
			value = current_month
		}
	}
}
custom_gui_save_day = {
	scope = character
	effect = {
		set_variable = {
			name = custom_gui_saved_day
			value = current_day
		}
	}
}
close_other_views = {
	scope = character
	effect = {
		#close_all_views = yes
		close_view = {view = my_realm player = this}
		close_view = {view = military player = this}
		close_view = {view = council_window player = this}
		close_view = {view = court_window player = this}
		close_view = {view = intrigue_window player = this}
		close_view = {view = factions_window player = this}
		close_view = {view = decisions player = this}
	}
}