family_respect = {
	value = 0
	add = house_head.age
	multiply = house_head.age
	if = { limit = { exists = var:family_prestige } add = var:family_prestige }
	if = { limit = { exists = var:temporary_change_prestige } add = var:temporary_change_prestige }
	if = { limit = { exists = var:convert_to_republic_prestige } add = var:convert_to_republic_prestige }
	add = house_head.prestige
	add = house_head.prestige
	add = house_head.piety
	add = house_head.dynasty.dynasty_prestige_level
	add = house_head.dynasty.dynasty_prestige_level
	add = house_head.dynasty.dynasty_prestige_level
	add = house_head.dynasty.dynasty_prestige_level
	add = house_head.dynasty.dynasty_prestige_level
	if = {
		limit = {
			house_head = {
				is_landed = yes
				highest_held_title_tier > tier_barony
			}
		}
		house_head.capital_county = {
			add = {
				value = development_level
				multiply = 3
			}
		}
	}
	add = {
		value = house_head.gold
		divide = 2
	}
	every_house_member = {
		add = 10
	}
	every_house_member = {
		limit = { is_landed = yes NOT = { has_title = house.var:titular_republic } }
		if = {
			limit = { highest_held_title_tier = tier_barony }
			add = 25
		}
		if = {
			limit = { highest_held_title_tier = tier_county }
			add = 50
		}
		if = {
			limit = { highest_held_title_tier = tier_duchy }
			add = 100
		}
		if = {
			limit = { highest_held_title_tier = tier_kingdom }
			add = 200
		}
		if = {
			limit = { highest_held_title_tier = tier_empire }
			add = 500
		}
	}
}

title_all_family_respect = {
	value = 0
	every_in_list = {
		variable = republic_families_list
		add = family_respect
	}
}

title_all_family_respect_divided_by_100 = {
	value = title_all_family_respect
	divide = 100
}

family_votes = {
	value = family_respect
	divide = var:titular_republic.title_all_family_respect_divided_by_100
}

modulo_votes_family = {
	value = family_votes
	modulo = 1
}

clean_modulo_votes = {
	value = 0
	if = { limit = { modulo_votes_family > 0.5 } add = 1 subtract = modulo_votes_family }
	if = { limit = { modulo_votes_family <= 0.5 } subtract = modulo_votes_family }
}

clean_family_votes = {
	value = family_votes
	add = clean_modulo_votes
}

all_votes_yea = {
	value = 0
	every_in_list = {
		variable = republic_families_list
		limit = { has_variable = house_votes_yea }
		add = clean_family_votes
	}
}

all_votes_yea_plus_yours = {
	value = 0
	every_in_list = {
		variable = republic_families_list
		limit = { has_variable = house_votes_yea }
		add = clean_family_votes
	}
	every_in_list = {
		variable = republic_families_list
		limit = { NOT = { has_variable = house_votes_yea has_variable = house_votes_nay } }
		add = clean_family_votes
	}
}

all_votes_nay = {
	value = 0
	every_in_list = {
		variable = republic_families_list
		limit = { has_variable = house_votes_nay }
		add = clean_family_votes
	}
}

all_votes_nay_plus_yours = {
	value = 0
	every_in_list = {
		variable = republic_families_list
		limit = { has_variable = house_votes_nay }
		add = clean_family_votes
	}
	every_in_list = {
		variable = republic_families_list
		limit = { NOT = { has_variable = house_votes_yea has_variable = house_votes_nay } }
		add = clean_family_votes
	}
}

double_military_strength = {
	add = max_military_strength
	multiply = 2
}

councillors_voting_aye = {
	every_in_list = {
		variable = republic_families_list
		limit = { has_variable = house_votes_yea }
		add = 1
	}
}

councillors_voting_aye_plus_yours = {
	every_in_list = {
		variable = republic_families_list
		limit = { has_variable = house_votes_yea }
		add = 1
	}
	add = 1
}

councillors_voting_nay = {
	every_in_list = {
		variable = republic_families_list
		limit = { has_variable = house_votes_nay }
		add = 1
	}
}

councillors_voting_nay_plus_yours = {
	every_in_list = {
		variable = republic_families_list
		limit = { has_variable = house_votes_nay }
		add = 1
	}
	add = 1
}

nobility_appeasement_yearly_change = {
	value = 0
	if = { limit = { var:nobility_appeasement >= 75 } subtract = 3 }
	if = { limit = { var:nobility_appeasement >= 50 } subtract = 2 }
	if = { limit = { var:nobility_appeasement <= 50 } add = 2 }
	if = { limit = { var:nobility_appeasement <= 25 } add = 3 }
}

popular_appeasement_yearly_change = {
	value = 0
	if = { limit = { var:popular_appeasement >= 75 } subtract = 3 }
	if = { limit = { var:popular_appeasement >= 50 } subtract = 2 }
	if = { limit = { var:popular_appeasement <= 50 } add = 2 }
	if = { limit = { var:popular_appeasement <= 25 } add = 3 }
}

clergy_appeasement_yearly_change = {
	value = 0
	if = { limit = { var:clergy_appeasement >= 75 } subtract = 3 }
	if = { limit = { var:clergy_appeasement >= 50 } subtract = 2 }
	if = { limit = { var:clergy_appeasement <= 50 } add = 2 }
	if = { limit = { var:clergy_appeasement <= 25 } add = 3 }
}

amount_over_or_under_nobility_appeasement = {
	value = 0
	if = { limit = { var:nobility_appeasement > 100 } subtract = var:nobility_appeasement add = 100 }
	if = { limit = { var:nobility_appeasement < 100 } add = var:nobility_appeasement multiply = -1 }
}

amount_over_or_under_clergy_appeasement = {
	value = 0
	if = { limit = { var:clergy_appeasement > 100 } subtract = var:clergy_appeasement add = 100 }
	if = { limit = { var:clergy_appeasement < 100 } add = var:clergy_appeasement multiply = -1 }
}

amount_over_or_under_popular_appeasement = {
	value = 0
	if = { limit = { var:popular_appeasement > 100 } subtract = var:popular_appeasement add = 100 }
	if = { limit = { var:popular_appeasement < 100 } add = var:popular_appeasement multiply = -1 }
}

houses_voting_aye = {
	every_in_list = {
		variable = republic_families_list
		limit = { has_variable = house_votes_yea }
		add = 1
	}
}

houses_voting_aye_plus_yours = {
	every_in_list = {
		variable = republic_families_list
		limit = { has_variable = house_votes_yea }
		add = 1
	}
	add = 1
}

houses_voting_nay = {
	every_in_list = {
		variable = republic_families_list
		limit = { has_variable = house_votes_nay }
		add = 1
	}
}

houses_voting_nay_plus_yours = {
	every_in_list = {
		variable = republic_families_list
		limit = { has_variable = house_votes_nay }
		add = 1
	}
	add = 1
}

all_votes_yea_dragging_over = {
	value = 0
	every_in_list = {
		variable = blackmailing_house_heads
		limit = { NOT = { has_variable = house_votes_yea } }
		add = clean_family_votes
	}
}

all_votes_nay_dragging_over = {
	value = 0
	every_in_list = {
		variable = blackmailing_house_heads
		limit = { NOT = { has_variable = house_votes_nay } }
		add = clean_family_votes
	}
}

councillors_yea_dragging_over = {
	value = 0
	every_in_list = {
		variable = blackmailing_house_heads
		limit = { NOT = { has_variable = house_votes_yea } exists = var:republic_councillor }
		add = 1
	}
}

councillors_nay_dragging_over = {
	value = 0
	every_in_list = {
		variable = blackmailing_house_heads
		limit = { NOT = { has_variable = house_votes_nay } exists = var:republic_councillor }
		add = 1
	}
}

houses_yea_dragging_over = {
	value = 0
	every_in_list = {
		variable = blackmailing_house_heads
		limit = { NOT = { has_variable = house_votes_yea } }
		add = 1
	}
}

houses_nay_dragging_over = {
	value = 0
	every_in_list = {
		variable = blackmailing_house_heads
		limit = { NOT = { has_variable = house_votes_nay } }
		add = 1
	}
}

republic_families_size_need = {
	value = 0
	if = { limit = { has_variable_list = republic_families_list list_size = { name = republic_families_list value < 5 } } every_in_list = { variable = republic_families_list add = 1 } }
	subtract = 5
	multiply = -1
}

light_ships_unclaimed = {
	value = 0
	if = { limit = { exists = var:light_ships } add = var:light_ships }
	if = { limit = { exists = var:fleet_1_light_ships } subtract = var:fleet_1_light_ships }
	if = { limit = { exists = var:fleet_2_light_ships } subtract = var:fleet_2_light_ships }
	if = { limit = { exists = var:fleet_3_light_ships } subtract = var:fleet_3_light_ships }
	if = { limit = { exists = var:fleet_4_light_ships } subtract = var:fleet_4_light_ships }
	if = { limit = { exists = var:fleet_5_light_ships } subtract = var:fleet_5_light_ships }
	if = { limit = { exists = var:fleet_6_light_ships } subtract = var:fleet_6_light_ships }
	if = { limit = { exists = var:fleet_7_light_ships } subtract = var:fleet_7_light_ships }
	if = { limit = { exists = var:fleet_8_light_ships } subtract = var:fleet_8_light_ships }
	if = { limit = { exists = var:fleet_9_light_ships } subtract = var:fleet_9_light_ships }
	if = { limit = { exists = var:fleet_10_light_ships } subtract = var:fleet_10_light_ships }
}

medium_ships_unclaimed = {
	value = 0
	if = { limit = { exists = var:medium_ships } add = var:medium_ships }
	if = { limit = { exists = var:fleet_1_medium_ships } subtract = var:fleet_1_medium_ships }
	if = { limit = { exists = var:fleet_2_medium_ships } subtract = var:fleet_2_medium_ships }
	if = { limit = { exists = var:fleet_3_medium_ships } subtract = var:fleet_3_medium_ships }
	if = { limit = { exists = var:fleet_4_medium_ships } subtract = var:fleet_4_medium_ships }
	if = { limit = { exists = var:fleet_5_medium_ships } subtract = var:fleet_5_medium_ships }
	if = { limit = { exists = var:fleet_6_medium_ships } subtract = var:fleet_6_medium_ships }
	if = { limit = { exists = var:fleet_7_medium_ships } subtract = var:fleet_7_medium_ships }
	if = { limit = { exists = var:fleet_8_medium_ships } subtract = var:fleet_8_medium_ships }
	if = { limit = { exists = var:fleet_9_medium_ships } subtract = var:fleet_9_medium_ships }
	if = { limit = { exists = var:fleet_10_medium_ships } subtract = var:fleet_10_medium_ships }
}

heavy_ships_unclaimed = {
	value = 0
	if = { limit = { exists = var:heavy_ships } add = var:heavy_ships }
	if = { limit = { exists = var:fleet_1_heavy_ships } subtract = var:fleet_1_heavy_ships }
	if = { limit = { exists = var:fleet_2_heavy_ships } subtract = var:fleet_2_heavy_ships }
	if = { limit = { exists = var:fleet_3_heavy_ships } subtract = var:fleet_3_heavy_ships }
	if = { limit = { exists = var:fleet_4_heavy_ships } subtract = var:fleet_4_heavy_ships }
	if = { limit = { exists = var:fleet_5_heavy_ships } subtract = var:fleet_5_heavy_ships }
	if = { limit = { exists = var:fleet_6_heavy_ships } subtract = var:fleet_6_heavy_ships }
	if = { limit = { exists = var:fleet_7_heavy_ships } subtract = var:fleet_7_heavy_ships }
	if = { limit = { exists = var:fleet_8_heavy_ships } subtract = var:fleet_8_heavy_ships }
	if = { limit = { exists = var:fleet_9_heavy_ships } subtract = var:fleet_9_heavy_ships }
	if = { limit = { exists = var:fleet_10_heavy_ships } subtract = var:fleet_10_heavy_ships }
}

picked_for_election_candidate = {
	value = 0
	add = martial
	add = stewardship
	add = diplomacy
	add = learning
	add = intrigue
	add = {
		value = num_virtuous_traits
		multiply = 2
	}
	subtract = {
		value = num_sinful_traits
		multiply = 2
	}
	if = { limit = { has_trait = intellect_good_1 } add = 10 }
	if = { limit = { has_trait = intellect_good_2 } add = 20 }
	if = { limit = { has_trait = intellect_good_3 } add = 30 }
	if = { limit = { has_trait = intellect_bad_1 } subtract = 10 }
	if = { limit = { has_trait = intellect_bad_2 } subtract = 20 }
	if = { limit = { has_trait = intellect_bad_3 } subtract = 30 }
	if = {
		limit = { age > 40 }
		subtract = {
			value = age
			divide = 2
		}
	}
	if = {
		limit = { age <= 40 age >= 16 }
		add = {
			value = age
			divide = 2
		}
	}
	if = { limit = { age < 16 } subtract = 100 }
	if = { limit = { liege_or_court_owner = { has_realm_law = male_only_law } is_female = yes } subtract = 200 }
	if = { limit = { liege_or_court_owner = { has_realm_law = male_preference_law } is_female = yes } subtract = 100 }
	if = { limit = { liege_or_court_owner = { has_realm_law = female_only_law } is_female = no } subtract = 200 }
	if = { limit = { liege_or_court_owner = { has_realm_law = female_preference_law } is_female = no } subtract = 100 }
}

all_votes_electee_one = {
	value = 0
	every_in_list = {
		variable = republic_families_list
		limit = { exists = var:house_votes_electee_one has_variable = house_votes_electee_one }
		add = family_respect
	}
}

all_votes_electee_two = {
	value = 0
	every_in_list = {
		variable = republic_families_list
		limit = { exists = var:house_votes_electee_two has_variable = house_votes_electee_two }
		add = family_respect
	}
}

all_votes_electee_three = {
	value = 0
	every_in_list = {
		variable = republic_families_list
		limit = { exists = var:house_votes_electee_three has_variable = house_votes_electee_three }
		add = family_respect
	}
}

all_votes_electee_four = {
	value = 0
	every_in_list = {
		variable = republic_families_list
		limit = { exists = var:house_votes_electee_four has_variable = house_votes_electee_four }
		add = family_respect
	}
}

all_votes_electee_five = {
	value = 0
	every_in_list = {
		variable = republic_families_list
		limit = { exists = var:house_votes_electee_five has_variable = house_votes_electee_five }
		add = family_respect
	}
}

votes_of_county = {
	value = 0
	add = development_level
	multiply = 20
}

pay_for_favor = {
	value = 200
	if = { limit = { scope:target_recipient = { has_trait = content } } subtract = 75 }
	if = { limit = { scope:target_recipient = { has_trait = ambitious } } add = 75 }
	if = { limit = { scope:target_recipient = { has_trait = greedy } } multiply = 1.5 }
	if = { limit = { scope:target_recipient = { has_trait = generous } } divide = 1.5 }
}

negative_pay_for_favor = {
	value = 0
	add = pay_for_favor
	multiply = -1
}

republics_size_from_person = {
	value = 0
	house.var:titular_republic = {
		every_in_list = {
			variable = republic_families_list
			add = 1
		}
	}
}

republics_size_from_republic = {
	value = 0
	every_in_list = {
		variable = republic_families_list
		add = 1
	}
}

titles_voting_aye = {
	every_in_list = {
		variable = lower_house_counties
		limit = { has_variable = county_votes_yea }
		add = votes_of_county
	}
}

titles_voting_nay = {
	every_in_list = {
		variable = lower_house_counties
		limit = { has_variable = county_votes_nay }
		add = votes_of_county
	}
}

add_respect_yea = {
	every_in_list = {
		variable = republic_families_list
		limit = { has_variable = house_votes_yea }
		add = family_respect
	}
}

add_respect_nay = {
	every_in_list = {
		variable = republic_families_list
		limit = { has_variable = house_votes_nay }
		add = family_respect
	}
}

county_sway = {
	add = add_respect_yea
	subtract = add_respect_nay
	divide = 20
}