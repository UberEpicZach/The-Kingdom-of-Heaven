types Republics  {
	type window_republic_form = window {
        scale = 0.9
        allow_outside = yes
        movable = yes
        position = {-600 -50}
        size = { 700 1100 }
        visible = "[GetVariableSystem.Exists('window_republic_form')]"
        alwaystransparent = no
        layoutpolicy_vertical   = expanding
        layoutpolicy_horizontal = expanding
        using = Window_Background
        using = Window_Decoration
        using = Animation_ShowHide_Standard
        vbox = {
            using = Window_Margins
            restrictparent_min = yes
            header_pattern_interaction = {
                maximumsize = { 700 -1 }
                layoutpolicy_horizontal = expanding
    
                blockoverride "header_text"
                {
                    text = "REFORM_GOVERNMENT"
                    fontsize = 28
                }
    
                blockoverride "button_close"
                {
                    onclick = "[GetVariableSystem.Clear( 'window_republic_form' )]"
                }
            }
            background = {
                texture = "gfx/interface/icons/lifestyle_tree_backgrounds/majesty.dds"
                alpha = 0.2
                margin = { -20 -50 }
                modify_texture = {
                    name = "mask"
                    texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                    spriteType = Corneredstretched
                    spriteborder = { 0 0 }
                    blend_mode = alphamultiply
                }
            }
            scrollbox = {
                name = "republic_laws_scrollarea"
                layoutpolicy_horizontal = expanding
                layoutpolicy_vertical = expanding
                #size = {100% 100%}
                size = { 570 1000 }
                blockoverride "scrollbox_content"
                {
                    button = {
                        texture = "gfx/republic/senate_background.dds"
                        size = { 550 240 }
                        modify_texture = {
                            name = "mask"
                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                            spriteType = Corneredstretched
                            spriteborder = { 0 0 }
                            blend_mode = alphamultiply
                        }
                        enabled = "[GetScriptedGui('has_republic_senate_government').IsValid(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        onclick = "[GetScriptedGui('has_republic_senate_government').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        tooltip = "reform_into_senate_republic"
                    }
                    text_single = {
                        text = "SENATE_VIEW"
                        fontsize = 24
                        default_format = "#bold"
                    }
                    text_single = {
                        text = "SENATE_FORM_DESC"
                        fontsize = 16
                        align = center
                        default_format = "#italic"
                    }
                    spacer = {
                        size = { 0 50 }
                    }
                    button = {
                        texture = "gfx/republic/council_background.dds"
                        size = { 550 240 }
                        modify_texture = {
                            name = "mask"
                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                            spriteType = Corneredstretched
                            spriteborder = { 0 0 }
                            blend_mode = alphamultiply
                        }
                        enabled = "[GetScriptedGui('has_republic_council_government').IsValid(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        onclick = "[GetScriptedGui('has_republic_council_government').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        tooltip = "reform_into_council_republic"
                    }
                    text_single = {
                        text = "COUNCIL_VIEW"
                        fontsize = 24
                        default_format = "#bold"
                    }
                    text_single = {
                        text = "COUNCIL_FORM_DESC"
                        fontsize = 16
                        align = center
                        default_format = "#italic"
                    }
                    spacer = {
                        size = { 0 50 }
                    }
                    button = {
                        texture = "gfx/republic/elected_ruler_background.dds"
                        size = { 550 240 }
                        modify_texture = {
                            name = "mask"
                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                            spriteType = Corneredstretched
                            spriteborder = { 0 0 }
                            blend_mode = alphamultiply
                        }
                        enabled = "[GetScriptedGui('has_republic_elected_ruler_government').IsValid(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        onclick = "[GetScriptedGui('has_republic_elected_ruler_government').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        tooltip = "reform_into_elected_ruler_republic"
                    }
                    text_single = {
                        text = "ELECTED_RULER_VIEW"
                        fontsize = 24
                        default_format = "#bold"
                    }
                    text_single = {
                        text = "ELECTED_RULER_FORM_DESC"
                        fontsize = 16
                        align = center
                        default_format = "#italic"
                    }
                    spacer = {
                        size = { 0 50 }
                    }
                    button = {
                        texture = "gfx/republic/bicameral_background.dds"
                        size = { 550 240 }
                        modify_texture = {
                            name = "mask"
                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                            spriteType = Corneredstretched
                            spriteborder = { 0 0 }
                            blend_mode = alphamultiply
                        }
                        enabled = "[GetScriptedGui('has_republic_bicameral_government').IsValid(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        onclick = "[GetScriptedGui('has_republic_bicameral_government').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        tooltip = "reform_into_bicameral_republic"
                    }
                    text_single = {
                        text = "CONSTITUTIONAL_VIEW"
                        fontsize = 24
                        default_format = "#bold"
                    }
                    text_single = {
                        text = "BICAMERAL_FORM_DESC"
                        fontsize = 16
                        align = center
                        default_format = "#italic"
                    }
                    spacer = {
                        size = { 0 30 }
                    }
                    divider_light = {
                        layoutpolicy_horizontal = expanding
                    }
                    divider_light = {
                        layoutpolicy_horizontal = expanding
                    }
                    spacer = {
                        size = { 0 30 }
                    }
                    button = {
                        texture = "gfx/republic/feudal_background.dds"
                        size = { 550 240 }
                        modify_texture = {
                            name = "mask"
                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                            spriteType = Corneredstretched
                            spriteborder = { 0 0 }
                            blend_mode = alphamultiply
                        }
                        tooltip = "reform_into_feudal_government"
                        enabled = "[GetScriptedGui('reform_into_feudal_from_republic').IsValid(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        onclick = "[GetScriptedGui('reform_into_feudal_from_republic').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                    }
                    text_single = {
                        text = "FEUDAL_GOVERNMENT_NAME"
                        fontsize = 24
                        default_format = "#bold"
                    }
                    text_single = {
                        text = "FEUDAL_GOVERNMENT_DESC"
                        fontsize = 16
                        align = center
                        default_format = "#italic"
                    }
                }
            }
            expand = {}
        }
    }

    type window_republic_form_senate = window {
        scale = 0.9
        allow_outside = yes
        movable = yes
        position = {-600 0}
        size = { 700 1100 }
        visible = "[GetVariableSystem.Exists('window_republic_form')]"
        alwaystransparent = no
        layoutpolicy_vertical   = expanding
        layoutpolicy_horizontal = expanding
        using = Window_Background
        using = Window_Decoration
        using = Animation_ShowHide_Standard
        vbox = {
            using = Window_Margins
            restrictparent_min = yes
            header_pattern_interaction = {
                maximumsize = { 700 -1 }
                layoutpolicy_horizontal = expanding
    
                blockoverride "header_text"
                {
                    text = "REFORM_GOVERNMENT"
                    fontsize = 28
                }
    
                blockoverride "button_close"
                {
                    onclick = "[GetVariableSystem.Clear( 'window_republic_form' )]"
                }
            }
            background = {
                texture = "gfx/interface/icons/lifestyle_tree_backgrounds/majesty.dds"
                alpha = 0.2
                margin = { -20 -50 }
                modify_texture = {
                    name = "mask"
                    texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                    spriteType = Corneredstretched
                    spriteborder = { 0 0 }
                    blend_mode = alphamultiply
                }
            }
            scrollbox = {
                name = "republic_laws_scrollarea"
                layoutpolicy_horizontal = expanding
                layoutpolicy_vertical = expanding
                #size = {100% 100%}
                size = { 570 1000 }
                blockoverride "scrollbox_content"
                {
                    button = {
                        texture = "gfx/republic/senate_background.dds"
                        size = { 550 240 }
                        modify_texture = {
                            name = "mask"
                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                            spriteType = Corneredstretched
                            spriteborder = { 0 0 }
                            blend_mode = alphamultiply
                        }
                        enabled = "[GetScriptedGui('has_republic_senate_government').IsValid(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        onclick = "[GetScriptedGui('has_republic_senate_government').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        tooltip = "reform_into_senate_republic"
                    }
                    text_single = {
                        text = "SENATE_VIEW"
                        fontsize = 24
                        default_format = "#bold"
                    }
                    text_single = {
                        text = "SENATE_FORM_DESC"
                        fontsize = 16
                        align = center
                        default_format = "#italic"
                    }
                    spacer = {
                        size = { 0 50 }
                    }
                    button = {
                        texture = "gfx/republic/council_background.dds"
                        size = { 550 240 }
                        modify_texture = {
                            name = "mask"
                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                            spriteType = Corneredstretched
                            spriteborder = { 0 0 }
                            blend_mode = alphamultiply
                        }
                        enabled = "[GetScriptedGui('has_republic_council_government').IsValid(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        onclick = "[GetScriptedGui('has_republic_council_government').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        tooltip = "reform_into_council_republic"
                    }
                    text_single = {
                        text = "COUNCIL_VIEW"
                        fontsize = 24
                        default_format = "#bold"
                    }
                    text_single = {
                        text = "COUNCIL_FORM_DESC"
                        fontsize = 16
                        align = center
                        default_format = "#italic"
                    }
                    spacer = {
                        size = { 0 50 }
                    }
                    button = {
                        texture = "gfx/republic/elected_ruler_background.dds"
                        size = { 550 240 }
                        modify_texture = {
                            name = "mask"
                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                            spriteType = Corneredstretched
                            spriteborder = { 0 0 }
                            blend_mode = alphamultiply
                        }
                        enabled = "[GetScriptedGui('has_republic_elected_ruler_government').IsValid(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        onclick = "[GetScriptedGui('has_republic_elected_ruler_government').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        tooltip = "reform_into_elected_ruler_republic"
                    }
                    text_single = {
                        text = "ELECTED_RULER_VIEW"
                        fontsize = 24
                        default_format = "#bold"
                    }
                    text_single = {
                        text = "ELECTED_RULER_FORM_DESC"
                        fontsize = 16
                        align = center
                        default_format = "#italic"
                    }
                    spacer = {
                        size = { 0 50 }
                    }
                    button = {
                        texture = "gfx/republic/bicameral_background.dds"
                        size = { 550 240 }
                        modify_texture = {
                            name = "mask"
                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                            spriteType = Corneredstretched
                            spriteborder = { 0 0 }
                            blend_mode = alphamultiply
                        }
                        enabled = "[GetScriptedGui('has_republic_bicameral_government').IsValid(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        onclick = "[GetScriptedGui('has_republic_bicameral_government').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        tooltip = "reform_into_bicameral_republic"
                    }
                    text_single = {
                        text = "CONSTITUTIONAL_VIEW"
                        fontsize = 24
                        default_format = "#bold"
                    }
                    text_single = {
                        text = "BICAMERAL_FORM_DESC"
                        fontsize = 16
                        align = center
                        default_format = "#italic"
                    }
                    spacer = {
                        size = { 0 30 }
                    }
                    divider_light = {
                        layoutpolicy_horizontal = expanding
                    }
                    divider_light = {
                        layoutpolicy_horizontal = expanding
                    }
                    spacer = {
                        size = { 0 30 }
                    }
                    button = {
                        texture = "gfx/republic/feudal_background.dds"
                        size = { 550 240 }
                        modify_texture = {
                            name = "mask"
                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                            spriteType = Corneredstretched
                            spriteborder = { 0 0 }
                            blend_mode = alphamultiply
                        }
                        tooltip = "reform_into_feudal_government"
                        enabled = "[GetScriptedGui('reform_into_feudal_from_republic').IsValid(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                        onclick = "[GetScriptedGui('reform_into_feudal_from_republic').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                    }
                    text_single = {
                        text = "FEUDAL_GOVERNMENT_NAME"
                        fontsize = 24
                        default_format = "#bold"
                    }
                    text_single = {
                        text = "FEUDAL_GOVERNMENT_DESC"
                        fontsize = 16
                        align = center
                        default_format = "#italic"
                    }
                }
            }
            expand = {}
        }
    }

    type republic_council_view = window {
        allow_outside = yes
        window_republic_form = {}
        visible = "[GetVariableSystem.Exists('window_republic_council_form')]"
        size = { 950 850 }
        position = { -890 100 }
        layer = middle
    
        using = Window_Background
        using = Window_Decoration
        using = Animation_ShowHide_Standard
        vbox = {
            using = Window_Margins
            restrictparent_min = yes
    
            header_pattern = {
                layoutpolicy_horizontal = expanding
    
                blockoverride "header_text"
                {
                    text = "COUNCIL_VIEW"
                }
                blockoverride "button_close"
                {
                    onclick = "[GetVariableSystem.Clear( 'window_republic_form' )]"
                    onclick = "[GetVariableSystem.Clear( 'window_republic_council_form' )]"
                }
            }
    
            vbox = {
                layoutpolicy_horizontal = expanding
                layoutpolicy_vertical = expanding
    
                hbox = {
                    name = "main"
                    layoutpolicy_horizontal = expanding
                    layoutpolicy_vertical = expanding
    
                    ## Left Side
                    vbox = {
                        name = "left"
                        layoutpolicy_horizontal = expanding
                        layoutpolicy_vertical = expanding
                        background = {
                            texture = "gfx/interface/illustrations/council/bg_council_chancellor.dds"
                            modify_texture = {
                                name = "mask"
                                texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                                spriteType = Corneredstretched
                                spriteborder = { 0 0 }
                                blend_mode = alphamultiply
                            }
                        }
                        container = {
                            layoutpolicy_horizontal = expanding
                            layoutpolicy_vertical = expanding
                            allow_outside = yes
                            progressbar = {
                                position = { 5% 5% }
                                min = 0
                                max = 100
                                value = "[FixedPointToFloat(GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.Var('nobility_appeasement').GetValue)]"
                                size = { 100 20 }
                                tooltip = "NOBLE_APPEASEMENT"
                                progresstexture = "gfx/interface/progressbars/progress_purple.dds"
                                noprogresstexture = "gfx/interface/progressbars/progress_standard.dds"
                                spriteType = Corneredtiled
                                spriteborder = { 6 6 }
                            }
                            progressbar = {
                                position = { 5% 15% }
                                min = 0
                                max = 100
                                value = "[FixedPointToFloat(GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.Var('clergy_appeasement').GetValue)]"
                                size = { 100 20 }
                                tooltip = "CLERGY_APPEASEMENT"
                                progresstexture = "gfx/republic/progressbars/progress_white.dds"
                                noprogresstexture = "gfx/interface/progressbars/progress_standard.dds"
                                spriteType = Corneredtiled
                                spriteborder = { 6 6 }
                            }
                            progressbar = {
                                position = { 5% 25% }
                                min = 0
                                max = 100
                                value = "[FixedPointToFloat(GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.Var('popular_appeasement').GetValue)]"
                                size = { 100 20 }
                                tooltip = "POPULAR_APPEASEMENT"
                                progresstexture = "gfx/republic/progressbars/progress_brown.dds"
                                noprogresstexture = "gfx/interface/progressbars/progress_standard.dds"
                                spriteType = Corneredtiled
                                spriteborder = { 6 6 }
                            }
                            vbox = {
                                datacontext = "[GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.Var('councillor_4').House.GetHeadOfHouse]"
                                position = { 25% 100% }
                                portrait_head = {}
                            }
                            vbox = {
                                datacontext = "[GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.Var('councillor_3').House.GetHeadOfHouse]"
                                position = { 100% 40% }
                                portrait_head = {}
                            }
                            vbox = {
                                datacontext = "[GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.Var('councillor_2').House.GetHeadOfHouse]"
                                position = { 0% 40% }
                                portrait_head = {}
                            }
                            vbox = {
                                datacontext = "[GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.Var('councillor_1').House.GetHeadOfHouse]"
                                position = { 50% 0% }
                                portrait_head = {}
                            }
                            vbox = {
                                datacontext = "[GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.Var('councillor_5').House.GetHeadOfHouse]"
                                position = { 75% 100% }
                                portrait_head = {}
                            }
                            text_single = {
                                text = ""
                                position = { 280 325 }
                            }
                            expand = {}
                        }
    
                    }
    
                    ## Right Side
                    vbox = {
                        name = "right"
                        layoutpolicy_horizontal = expanding
                        layoutpolicy_vertical = expanding
                        max_width = 350
                        min_width = 350
                        background = {
                            using = Background_Area
                        }
                        scrollbox = {
                            name = "proposable_laws_scrollarea"
                            layoutpolicy_horizontal = expanding
                            layoutpolicy_vertical = expanding
                            size = { 350 500 }
                            blockoverride "scrollbox_content"
                            {
                                vbox = {
                                    text_label_center = {
                                        text = "POSSIBLE_LAWS"
                                        fontsize = 20
                                    }
                                    dynamicgridbox = {
                                        layoutpolicy_vertical = expanding
                                        layoutpolicy_horizontal = expanding
                                        allow_outside = yes
                                        ignoreinvisible = yes
                                        maxhorizontalslots = 1
                                        maxverticalslots = 100
                                        block "datamodel" { 
                                            datamodel = "[GetGlobalList('council_laws_list')]"
                                        }
                                        item = {
                                            widget = {
                                                visible = "[Not(GetScriptedGui(Concatenate('government_has_',Scope.GetFlagName,)).IsShown(GuiScope.SetRoot(GetPlayer.MakeScope).End))]"
                                                block "size" {
                                                    size = { 280 130 }
                                                }
                                                hbox = {
                                                    button = {
                                                        texture = "gfx/interface/icons/message_feed/a_catch_all_councillor_icon.dds"
                                                        size = { 80 80 }
                                                        tooltip = PROPOSE_TT
                                                        clicksound = "event:/SFX/UI/Notifications/TopBar/sfx_ui_notifications_topbar_diplomacy"
                                                        datacontext = "[GetScriptedGui(Concatenate('government_has_',Scope.GetFlagName))]"
                                                        onclick = "[ScriptedGui.Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                                                    }
                                                    vbox = {
                                                        text_single = {
                                                            text = "[Localize(Concatenate(Scope.GetFlagName,'_council_name'))]"
                                                            fontsize = 16
                                                            align = center
                                                            minimumsize = { 80 -1 }
                                                        }
                                                        text_single = {
                                                            text = "[Localize(Concatenate(Scope.GetFlagName,'_council_desc'))]"
                                                            align = center
                                                            fontsize = 16
                                                        }
                                                        expand = {}
                                                    }
                                                    expand = {}
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
    
                vbox = {
                    name = "footer"
                    layoutpolicy_horizontal = expanding
                    spacing = 10
                    margin = { 0 5 }
                    text_label_center = {
                        text = "PROPOSED_LAWS"
                        fontsize = 16
                    }
                    hbox = {
                        scrollarea = {
                            name = "proposed_laws_scrollarea"
                            layoutpolicy_horizontal = expanding
                            layoutpolicy_vertical = expanding
                            size = { 900 120 }
                            scrollbarpolicy_vertical = always_off
    
                            scrollbar_horizontal = {
                                using = Scrollbar_Horizontal
                            }
                            scrollwidget = {
                                dynamicgridbox = {
                                    layoutpolicy_vertical = expanding
                                    layoutpolicy_horizontal = expanding
                                    allow_outside = yes
                                    ignoreinvisible = yes
                                    maxverticalslots = 1
                                    maxhorizontalslots = 100
                                    flipdirection = yes
                                    block "datamodel" {
                                        datamodel = "[GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.GetList('proposed_laws_list')]"
                                    }
                                    item = {
                                        widget = {
                                            block "size" {
                                                size = { 280 100 }
                                            }
                                            hbox = {
                                                background = {
                                                    margin_left = 5
                                                    margin_right = 5
                                                    margin_top = 10
                                                    margin_bottom = 10
                                                    texture = "gfx/republic/solid_black_label.dds"
                                                    spriteType = Corneredtiled
                                                    spriteborder = { 20 20 }
                                                    modify_texture = {
                                                        name = "mask"
                                                        texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                                                        spriteType = Corneredstretched
                                                        spriteborder = { 10 5 }
                                                        blend_mode = alphamultiply
                                                    }
                                                }
                                                icon = {
                                                    texture = "gfx/interface/icons/message_feed/chancellor_job.dds"
                                                    size = { 80 80 }
                                                }
                                                vbox = {
                                                    text_single = {
                                                        text = "[Localize(Concatenate(Scope.GetFlagName,'_council_name'))]"
                                                        fontsize = 16
                                                        align = center
                                                        minimumsize = { 80 -1 }
                                                    }
                                                    text_single = {
                                                        text = "[Localize(Concatenate(Scope.GetFlagName,'_council_desc'))]"
                                                        align = center
                                                        fontsize = 16
                                                    }
                                                    expand = {}
                                                }
                                                expand = {}
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    button_standard = {
                        text = "REFORM_GOVERNMENT"
                        onclick = "[GetVariableSystem.Toggle('window_republic_form')]"
                    }
                }
            }
        }
    }

    type republic_senate_view = window {
        size = { 950 850 }
        position = { -900 25 }
        layer = middle
        allow_outside = yes
        visible = "[GetVariableSystem.Exists('window_republic_senate_form')]"
        window_republic_form_senate = {}
    
        using = Window_Background
        using = Window_Decoration
        using = Animation_ShowHide_Standard
        
        vbox = {
            using = Window_Margins
            restrictparent_min = yes
    
            header_pattern = {
                layoutpolicy_horizontal = expanding
    
                blockoverride "header_text"
                {
                    text = "SENATE_VIEW"
                }
    
                blockoverride "button_close"
                {
                    onclick = "[GetVariableSystem.Clear( 'window_republic_form' )]"
                    onclick = "[GetVariableSystem.Clear( 'window_republic_senate_form' )]"
                }
            }
    
            vbox = {
                layoutpolicy_horizontal = expanding
                layoutpolicy_vertical = expanding
    
                hbox = {
                    name = "main"
                    layoutpolicy_horizontal = expanding
                    layoutpolicy_vertical = expanding
    
                    ## Left Side
                    vbox = {
                        name = "left"
                        layoutpolicy_horizontal = expanding
                        layoutpolicy_vertical = expanding
                        
                        spacer = {
                            size = { 0 10 }
                        }
                        icon = {
                            texture = "gfx/republic/senate_background.dds"
                            alpha = 1
                            size = { 460 200 }
                            modify_texture = {
                                name = "mask"
                                texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                                spriteType = Corneredstretched
                                spriteborder = { 0 0 }
                                blend_mode = alphamultiply
                            }
                        }
                        spacer = { size = { 0 10 } }
                        button_tertiary = {
                            text = "REFORM_GOVERNMENT"
                            onclick = "[GetVariableSystem.Toggle('window_republic_form')]"
                        }
                        spacer = { size = { 0 10 } }
                        scrollbox = {
                            name = "republic_laws_scrollarea"
                            layoutpolicy_horizontal = expanding
                            layoutpolicy_vertical = expanding
                            #size = {100% 100%}
                            size = { 400 500 }
                            background = {
                                texture = "gfx/interface/illustrations/council/bg_council_steward.dds"
                                alpha = 0.2
                                modify_texture = {
                                    name = "mask"
                                    texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                                    spriteType = Corneredstretched
                                    spriteborder = { 0 0 }
                                    blend_mode = alphamultiply
                                }
                            }
                            blockoverride "scrollbox_content"
                            {
                                flowcontainer = {
                                    direction = vertical
                                    ignoreinvisible = yes
                                    spacing = 3
    
                                    button_panel_down = {
                                        name = "passed laws"
                                        parentanchor = right
                                        onclick = "[GetVariableSystem.Toggle( 'view_passed_laws')]"
    
                                        tooltip = "PASSED_LAWS"
    
                                        blockoverride "button_text"
                                        {
                                            text = "PASSED_LAWS"
                                        }
                                    }
                                }
                                dynamicgridbox = {
                                    layoutpolicy_vertical = expanding
                                    allow_outside = yes
                                    ignoreinvisible = yes
                                    maxhorizontalslots = 1
                                    maxverticalslots = 100
                                    visible = "[GetVariableSystem.Exists('view_passed_laws')]"
                                    block "datamodel" {
                                        datamodel = "[GetGlobalList('senate_laws_list')]"
                                    }
                                    item = {
                                        visible = "[GetScriptedGui(Concatenate('government_has_',Scope.GetFlagName,)).IsShown(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                                        widget = {
                                            visible = "[GetScriptedGui(Concatenate('government_has_',Scope.GetFlagName,)).IsShown(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                                            block "size" {
                                                size = { 398 80 }
                                            }
                                            tooltip = PROPOSE_TT
                                            vbox = {
                                                background = {
                                                    texture = "gfx/republic/tile_selected_gold.dds"
                                                    spriteType = Corneredtiled
                                                    spriteborder = { 6 6 }
                                                    shaderfile = "gfx/FX/pdxgui_default.shader"
                                                }
                                                hbox = {
                                                    icon = {
                                                        texture = "gfx/interface/icons/message_feed/a_catch_all_councillor_icon.dds"
                                                        size = { 20 20 }
                                                    }
                                                    spacer = {
                                                        size = { 5 0 }
                                                    }
                                                    text_single = {
                                                        text = "[Localize(Concatenate(Scope.GetFlagName,'_name'))]"
                                                        fontsize = 20
                                                    }
                                                    expand = {}
                                                }
                                                text_single = {
                                                    text = "[Localize(Concatenate(Scope.GetFlagName,'_desc'))]"
                                                    fontsize = 16
                                                }
                                                expand = {}
                                            }
                                        }
                                    }
                                }
                                spacer = { size = { 0 10 } }
                                flowcontainer = {
                                    direction = vertical
                                    ignoreinvisible = yes
                                    spacing = 3
    
                                    button_panel_down = {
                                        name = "proposed laws"
                                        parentanchor = right
                                        onclick = "[GetVariableSystem.Toggle( 'view_proposed_laws')]"
    
                                        tooltip = "PROPOSED_LAWS"
    
                                        blockoverride "button_text"
                                        {
                                            text = "PROPOSED_LAWS"
                                        }
                                    }
                                }
                                dynamicgridbox = {
                                    layoutpolicy_vertical = expanding
                                    allow_outside = yes
                                    ignoreinvisible = yes
                                    maxhorizontalslots = 1
                                    maxverticalslots = 100
                                    visible = "[GetVariableSystem.Exists('view_proposed_laws')]"
                                    block "datamodel" {
                                        datamodel = "[GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.GetList('proposed_laws_list')]"
                                    }
                                    item = {
                                        widget = {
                                            block "size" {
                                                size = { 398 80 }
                                            }
                                            tooltip = PROPOSED_LAWS_TT
                                            vbox = {
                                                background = {
                                                    texture = "gfx/republic/tile_selected_gold.dds"
                                                    spriteType = Corneredtiled
                                                    spriteborder = { 6 6 }
                                                    shaderfile = "gfx/FX/pdxgui_default.shader"
                                                }
                                                hbox = {
                                                    icon = {
                                                        texture = "gfx/interface/icons/message_feed/chancellor_job.dds"
                                                        size = { 20 20 }
                                                    }
                                                    spacer = {
                                                        size = { 5 0 }
                                                    }
                                                    text_single = {
                                                        text = "[Localize(Concatenate(Scope.GetFlagName,'_name'))]"
                                                        fontsize = 20
                                                    }
                                                    expand = {}
                                                }
                                                text_single = {
                                                    text = "[Localize(Concatenate(Scope.GetFlagName,'_desc'))]"
                                                    fontsize = 16
                                                }
                                                expand = {}
                                            }
                                        }
                                    }
                                }
                                spacer = { size = { 0 10 } }
                                flowcontainer = {
                                    direction = vertical
                                    ignoreinvisible = yes
                                    spacing = 3
    
                                    button_panel_down = {
                                        name = "possible laws"
                                        parentanchor = right
                                        onclick = "[GetVariableSystem.Toggle( 'view_possible_laws')]"
    
                                        tooltip = "POSSIBLE_LAWS"
    
                                        blockoverride "button_text"
                                        {
                                            text = "POSSIBLE_LAWS"
                                        }
                                    }
                                }
                                dynamicgridbox = {
                                    layoutpolicy_vertical = expanding
                                    allow_outside = yes
                                    ignoreinvisible = yes
                                    maxhorizontalslots = 1
                                    maxverticalslots = 100
                                    visible = "[GetVariableSystem.Exists('view_possible_laws')]"
                                    block "datamodel" { 
                                        datamodel = "[GetGlobalList('senate_laws_list')]"
                                    }
                                    item = {
                                        widget = {
                                            visible = "[Not(GetScriptedGui(Concatenate('government_has_',Scope.GetFlagName,)).IsShown(GuiScope.SetRoot(GetPlayer.MakeScope).End))]"
                                            block "size" {
                                                size = { 398 130 }
                                            }
                                            vbox = {
                                                background = {
                                                    texture = "gfx/republic/tile_selected_gold.dds"
                                                    spriteType = Corneredtiled
                                                    spriteborder = { 6 6 }
                                                    shaderfile = "gfx/FX/pdxgui_default.shader"
                                                }
                                                hbox = {
                                                    icon = {
                                                        texture = "gfx/interface/icons/message_feed/generic_neutral_effect.dds"
                                                        size = { 20 20 }
                                                    }
                                                    spacer = {
                                                        size = { 5 0 }
                                                    }
                                                    text_single = {
                                                        text = "[Localize(Concatenate(Scope.GetFlagName,'_name'))]"
                                                        fontsize = 20
                                                    }
                                                    expand = {}
                                                }
                                                text_single = {
                                                    text = "[Localize(Concatenate(Scope.GetFlagName,'_desc'))]"
                                                    fontsize = 16
                                                }
                                                spacer = {
                                                    size = { 0 10 }
                                                }
                                                button = {
                                                    tooltip = PROPOSE_TT
                                                    datacontext = "[GetScriptedGui(Concatenate('government_has_',Scope.GetFlagName))]"
                                                    onclick = "[ScriptedGui.Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                                                    texture = "gfx/interface/icons/message_feed/nickname.dds"
                                                    size = { 50 50 }
                                                    clicksound = "event:/SFX/UI/Notifications/TopBar/sfx_ui_notifications_topbar_diplomacy"
                                                }
                                                expand = {}
                                            }
                                        }
                                    }
                                }
                            }
                        }
                        expand = {}
                    }
    
                    ## Right Side
                    vbox = {
                        name = "senate_houses"
                        layoutpolicy_horizontal = expanding
                        layoutpolicy_vertical = expanding
                        max_width = 350
                        min_width = 350
                        margin = { 15 15 }
                        spacing = 10
    
                        background = {
                            texture = "gfx/interface/illustrations/lifestyles_background/diplomacy_lifestyle.dds"
                            alpha = 0.8
                            modify_texture = {
                                name = "mask"
                                texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                                spriteType = Corneredstretched
                                spriteborder = { 0 0 }
                                blend_mode = alphamultiply
                            }
                        }
    
                        scrollbox = {
                            name = "republic_families_scrollarea"
                            layoutpolicy_horizontal = expanding
                            layoutpolicy_vertical = expanding
                            #size = {100% 100%}
                            size = { 350 800 }
                            blockoverride "scrollbox_content"
                            {
                                dynamicgridbox = {
                                    datacontext = "[GetPlayer]"
                                    layoutpolicy_vertical = expanding
                                    allow_outside = yes
                                    ignoreinvisible = yes
                                    maxhorizontalslots = 1
                                    maxverticalslots = 100
                                    block "datamodel" {
                                        datamodel = "[GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.GetList('republic_families_list')]"
                                    }
                                    item = {
                                        widget = {
                                            datacontext = "[Scope.House]"
                                            visible = "[DynastyHouse.GetHeadOfHouse.IsValid]"
                                            block "size" {
                                                size = { 299 200 }
                                            }
                                            vbox = {
                                                background = {
                                                    texture = "gfx/republic/tile_selected_gold.dds"
                                                    spriteType = Corneredtiled
                                                    spriteborder = { 6 6 }
                                                    shaderfile = "gfx/FX/pdxgui_default.shader"
                                                }
                                                hbox = {
                                                    vbox = {
                                                        text_single = {
                                                            minimumsize = { 120 -1 }
                                                            text = "HOUSE_VIEW_NAME_WITH_HOUSE"
                                                            fontsize = 16
                                                            default_format = "#high"
                                                        }
                                                        coa_house_medium = {}
                                                    }
                                                    vbox = {
                                                        layoutpolicy_vertical = expanding
                                                        datacontext = "[DynastyHouse.GetHeadOfHouse]"
                                                        text_single = {
                                                            text = "HOUSE_PATRICIAN"
                                                            fontsize = 16
                                                        }
                                                        portrait_head_small = {}
                                                    }
                                                }
                                                spacer = {
                                                    size = { 10 0 }
                                                }
                                                vbox = {
                                                    layoutpolicy_vertical = expanding
                                                    hbox = {
                                                        text_single = {
                                                            text = "HOUSE_RESPECT"
                                                            fontsize = 16
                                                        }
                                                        spacer = { size = { 2 0 } }
                                                        text_single = {
                                                            text = "[DynastyHouse.MakeScope.ScriptValue('family_respect')|0]"
                                                            minimumsize = { 40 -1 }
                                                            fontsize = 16
                                                        }
                                                    }
                                                    hbox = {
                                                        text_single = {
                                                            text = "HOUSE_VOTES"
                                                            fontsize = 16
                                                        }
                                                        spacer = { size = { 2 0 } }
                                                        text_single = {
                                                            text = "[DynastyHouse.MakeScope.ScriptValue('clean_family_votes')|0]"
                                                            minimumsize = { 40 -1 }
                                                            fontsize = 16
                                                        }
                                                    }
                                                    hbox = {
                                                        text_single = {
                                                            text = "HOUSE_ELECTEE"
                                                            fontsize = 16
                                                        }
                                                        spacer = { size = { 5 0 } }
                                                        dynamicgridbox = {
                                                            datacontext = "[Scope.House]"
                                                            layoutpolicy_vertical = expanding
                                                            ignoreinvisible = yes
                                                            allow_outside = yes
                                                            maxhorizontalslots = 1
                                                            maxverticalslots = 100
                                                            block "datamodel" {
                                                                datamodel = "[DynastyHouse.MakeScope.GetList('election_candidates')]"
                                                            }
                                                            item = {
                                                                text_single = {
                                                                    text = "REP_TYPES_WIND_UNIUI_CHAR_NAME"
                                                                    fontsize = 16
                                                                }
                                                            }
                                                        }
                                                    }
                                                    expand = {}
                                                }
                                                expand = {}
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
    
                vbox = {
                    name = "footer"
                    layoutpolicy_horizontal = expanding
                    spacing = 10
                    margin = { 0 15 }
    
                    hbox = {
                        background = {
                            texture = "gfx/interface/component_tiles/solid_black_label.dds"
                            margin = { 20 10 }
                            modify_texture = {
                                name = "mask"
                                texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                                spriteType = Corneredstretched
                                spriteborder = { 0 0 }
                                blend_mode = alphamultiply
                            }
                        }
                        vbox = {
                            datacontext = "[GetPlayer.GetLiege]"
                            text_single = {
                                text = "Consul:"
                                fontsize = 20
                            }
                            portrait_head_small = {}
                        }
                        spacer = {
                            size = { 50 0 }
                        }
                        vbox = {
                            datacontext = "[GetPlayer]"
                            text_single = {
                                text = "You:"
                                fontsize = 20
                            }
                            portrait_head_small = {}
                        }
                        spacer = {
                            size = { 20 0 }
                        }
                        vbox = {
                            hbox = {
                                text_single = {
                                    text = "HOUSE_RESPECT"
                                    fontsize = 16
                                }
                                spacer = { size = { 2 0 } }
                                text_single = {
                                    text = "[GetPlayer.GetHouse.MakeScope.ScriptValue('family_respect')|0]"
                                    minimumsize = { 40 -1 }
                                    fontsize = 16
                                }
                            }
                            hbox = {
                                text_single = {
                                    text = "HOUSE_VOTES"
                                    fontsize = 16
                                }
                                spacer = { size = { 2 0 } }
                                text_single = {
                                    text = "[GetPlayer.GetHouse.MakeScope.ScriptValue('clean_family_votes')|0]"
                                    minimumsize = { 40 -1 }
                                    fontsize = 16
                                }
                            }
                            expand = {}
                        }
                    }
                }
            }
        }
    }

    type republic_term_limits_window = window {
        size = { 450 850 }
        position = { -500 100 }
        layer = middle
        allow_outside = yes
        window_republic_form = {}
        visible = "[GetVariableSystem.Exists('window_republic_elected_ruler_form')]"
    
        using = Window_Background
        using = Window_Decoration
        using = Animation_ShowHide_Standard
        
        vbox = {
            using = Window_Margins
            restrictparent_min = yes
    
            header_pattern = {
                layoutpolicy_horizontal = expanding
    
                blockoverride "header_text"
                {
                    text = "CHANGE_TERM_LIMITS"
                }
    
                blockoverride "button_close"
                {
                    onclick = "[GetVariableSystem.Clear( 'window_republic_form' )]"
                    onclick = "[GetVariableSystem.Clear( 'window_republic_elected_ruler_form' )]"
                }
            }
    
            vbox = {
                layoutpolicy_horizontal = expanding
                layoutpolicy_vertical = expanding
                button_tertiary = {
                    text = "REFORM_GOVERNMENT"
                    onclick = "[GetVariableSystem.Toggle('window_republic_form')]"
                }
                spacer = {
                    size = { 0 5 }
                }
                scrollbox = {
                    name = "republic_families_scrollarea"
                    layoutpolicy_horizontal = expanding
                    layoutpolicy_vertical = expanding
                    #size = {100% 100%}
                    size = { 440 800 }
                    blockoverride "scrollbox_content"
                    {
                        text_single = {
                            text = "Current Law:"
                            fontsize = 20
                            align = center
                            default_format = "#bold"
                        }
                        spacer = {
                            size = { 0 15 }
                        }
                        dynamicgridbox = {
                            layoutpolicy_vertical = expanding
                            allow_outside = yes
                            ignoreinvisible = yes
                            maxhorizontalslots = 1
                            maxverticalslots = 100
                            block "datamodel" {
                                datamodel = "[GetGlobalList('elected_ruler_laws_list')]"
                            }
                            item = {
                                widget = {
                                    visible = "[GetScriptedGui(Concatenate('government_has_',Scope.GetFlagName,)).IsShown(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                                    background = {
                                        margin_left = 10
                                        margin_right = 10
                                        margin_top = 10
                                        margin_bottom = 10
                                        texture = "gfx/interface/component_tiles/solid_black_label.dds"
                                        spriteType = Corneredtiled
                                        spriteborder = { 20 20 }
                                        modify_texture = {
                                            name = "mask"
                                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                                            spriteType = Corneredstretched
                                            spriteborder = { 0 0 }
                                            blend_mode = alphamultiply
                                        }
                                    }
                                    block "size" {
                                        size = { 260 71 }
                                    }
                                    hbox = {
                                        vbox = {
                                            margin_bottom = 20
                                            text_single = {
                                                align = center
                                                minimumsize = { 150 -1 }
                                                text = "[Localize(Concatenate(Scope.GetFlagName,'_name'))]"
                                                fontsize = 16
                                                default_format = "#high"
                                            }
                                            text_single = {
                                                align = center
                                                minimumsize = { 150 -1 }
                                                text = "[Localize(Concatenate(Scope.GetFlagName,'_desc'))]"
                                                fontsize = 16
                                            }
                                        }
                                        expand = {}
                                    }
                                }
                            }
                        }
                        spacer = {
                            size = { 0 15 }
                        }
                        text_single = {
                            text = "PROPOSED_LAWS"
                            fontsize = 20
                            align = center
                            default_format = "#bold"
                        }
                        spacer = {
                            size = { 0 15 }
                        }
                        dynamicgridbox = {
                            layoutpolicy_vertical = expanding
                            allow_outside = yes
                            ignoreinvisible = yes
                            maxhorizontalslots = 1
                            maxverticalslots = 100
                            block "datamodel" {
                                datamodel = "[GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.GetList('proposed_laws_list')]"
                            }
                            item = {
                                widget = {
                                    background = {
                                        margin_left = 10
                                        margin_right = 10
                                        margin_top = 10
                                        margin_bottom = 10
                                        texture = "gfx/interface/component_tiles/solid_black_label.dds"
                                        spriteType = Corneredtiled
                                        spriteborder = { 20 20 }
                                        modify_texture = {
                                            name = "mask"
                                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                                            spriteType = Corneredstretched
                                            spriteborder = { 0 0 }
                                            blend_mode = alphamultiply
                                        }
                                    }
                                    block "size" {
                                        size = { 260 71 }
                                    }
                                    hbox = {
                                        vbox = {
                                            margin_bottom = 20
                                            text_single = {
                                                align = center
                                                minimumsize = { 150 -1 }
                                                text = "[Localize(Concatenate(Scope.GetFlagName,'_name'))]"
                                                fontsize = 16
                                                default_format = "#high"
                                            }
                                            text_single = {
                                                align = center
                                                minimumsize = { 150 -1 }
                                                text = "[Localize(Concatenate(Scope.GetFlagName,'_desc'))]"
                                                fontsize = 16
                                            }
                                        }
                                        expand = {}
                                    }
                                }
                            }
                        }
                        spacer = {
                            size = { 0 15 }
                        }
                        text_single = {
                            text = "POSSIBLE_LAWS"
                            fontsize = 20
                            align = center
                            default_format = "#bold"
                        }
                        spacer = {
                            size = { 0 15 }
                        }
                        dynamicgridbox = {
                            layoutpolicy_vertical = expanding
                            allow_outside = yes
                            ignoreinvisible = yes
                            maxhorizontalslots = 1
                            maxverticalslots = 100
                            block "datamodel" {
                                datamodel = "[GetGlobalList('elected_ruler_laws_list')]"
                            }
                            item = {
                                widget = {
                                    visible = "[Not(GetScriptedGui(Concatenate('government_has_',Scope.GetFlagName,)).IsShown(GuiScope.SetRoot(GetPlayer.MakeScope).End))]"
                                    background = {
                                        margin_left = 20
                                        margin_right = 20
                                        margin_top = 10
                                        margin_bottom = 10
                                        texture = "gfx/interface/component_tiles/solid_black_label.dds"
                                        spriteType = Corneredtiled
                                        spriteborder = { 20 20 }
                                        modify_texture = {
                                            name = "mask"
                                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                                            spriteType = Corneredstretched
                                            spriteborder = { 0 0 }
                                            blend_mode = alphamultiply
                                        }
                                    }
                                    block "size" {
                                        size = { 260 131 }
                                    }
                                    vbox = {
                                        hbox = {
                                            vbox = {
                                                text_single = {
                                                    align = center
                                                    minimumsize = { 150 -1 }
                                                    text = "[Localize(Concatenate(Scope.GetFlagName,'_name'))]"
                                                    fontsize = 16
                                                    default_format = "#high"
                                                }
                                                text_single = {
                                                    align = center
                                                    minimumsize = { 150 -1 }
                                                    text = "[Localize(Concatenate(Scope.GetFlagName,'_desc'))]"
                                                    fontsize = 16
                                                }
                                            }
                                            expand = {}
                                        }
                                        button = {
                                            texture = "gfx/interface/icons/message_feed/chancellor_job.dds"
                                            size = { 50 50 }
                                            tooltip = PROPOSE_TT
                                            clicksound = "event:/SFX/UI/Notifications/TopBar/sfx_ui_notifications_topbar_diplomacy"
                                            onclick = "[GetScriptedGui(Concatenate('government_has_',Scope.GetFlagName)).Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                                            onclick = "[GetScriptedGui('trigger_elected_rule_election').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                                        }
                                        expand = {}
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }

    type republic_families_window = window {
        size = { 600 850 }
        position = { -600 50 }
        layer = middle
        visible = "[GetVariableSystem.Exists('window_republic_families')]"
    
        using = Window_Background
        using = Window_Decoration
        using = Animation_ShowHide_Standard
        
        vbox = {
            using = Window_Margins
            restrictparent_min = yes
    
            header_pattern = {
                layoutpolicy_horizontal = expanding
    
                blockoverride "header_text"
                {
                    text = "REPUBLIC_FAMILIES_WINDOW_TITLE"
                }
    
                blockoverride "button_close"
                {
                    onclick = "[GetVariableSystem.Clear( 'window_republic_families' )]"
                }
            }
    
            vbox = {
                layoutpolicy_horizontal = expanding
                layoutpolicy_vertical = expanding

                vbox = {
                    datacontext = "[GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.Var('most_likely_to_succeed').GetCharacter]"
                    text_single = {
                        text = "MOST_LIKELY_TO_SUCCEED"
                        fontsize = 18
                    }
                    portrait_head_small = {}
                }

                scrollbox = {
                    name = "republic_families_scrollarea"
                    layoutpolicy_horizontal = expanding
                    layoutpolicy_vertical = expanding
                    #size = {100% 100%}
                    size = { 530 800 }
                    blockoverride "scrollbox_content"
                    {
                        dynamicgridbox = {
                            datacontext = "[GetPlayer]"
                            layoutpolicy_vertical = expanding
                            allow_outside = yes
                            ignoreinvisible = yes
                            maxhorizontalslots = 1
                            maxverticalslots = 100
                            block "datamodel" {
                                datamodel = "[GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.GetList('republic_families_list')]"
                            }
                            item = {
                                widget = {
                                    datacontext = "[Scope.House]"
                                    visible = "[DynastyHouse.GetHeadOfHouse.IsValid]"
                                    block "size" {
                                        size = { 500 180 }
                                    }
                                    vbox = {
                                        hbox = {
                                            coa_house_medium = {}
                                            spacer = {
                                                size = { 10 0 }
                                            }
                                            vbox = {
                                                margin_bottom = 20
                                                text_single = {
                                                    minimumsize = { 150 -1 }
                                                    text = "HOUSE_VIEW_NAME_WITH_HOUSE"
                                                    fontsize = 16
                                                    default_format = "#high"
                                                }
                                                hbox = {
                                                    margin_right = 45
                                                    text_single = {
                                                        text = "HOUSE_RESPECT"
                                                        fontsize = 16
                                                    }
                                                    spacer = { size = { 2 0 } }
                                                    text_single = {
                                                        text = "[DynastyHouse.MakeScope.ScriptValue('family_respect')|0]"
                                                        minimumsize = { 40 -1 }
                                                        fontsize = 16
                                                    }
                                                }
                                                hbox = {
                                                    margin_right = 65
                                                    text_single = {
                                                        text = "HOUSE_ELECTEE"
                                                        fontsize = 16
                                                    }
                                                    spacer = { size = { 5 0 } }
                                                    dynamicgridbox = {
                                                        datacontext = "[Scope.House]"
                                                        layoutpolicy_vertical = expanding
                                                        ignoreinvisible = yes
                                                        allow_outside = yes
                                                        maxhorizontalslots = 1
                                                        maxverticalslots = 100
                                                        block "datamodel" {
                                                            datamodel = "[DynastyHouse.MakeScope.GetList('election_candidates')]"
                                                        }
                                                        item = {
                                                            widget = {
                                                                allow_outside = yes
                                                                block "size" {
                                                                    size = { 25 10 }
                                                                }
                                                                text_single = {
                                                                    text = "REP_TYPES_WIND_UNIUI_CHAR_NAME"
                                                                    fontsize = 16
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                            spacer = {
                                                size = { 150 0 }
                                            }
                                            vbox = {
                                                datacontext = "[DynastyHouse.GetHeadOfHouse]"
                                                text_single = {
                                                    text = "HOUSE_PATRICIAN"
                                                    fontsize = 16
                                                }
                                                portrait_head_small = {}
                                            }
                                            expand = {}
                                        }
                                        hbox = {
                                            background = {
                                                margin_left = 10
                                                margin_right = 10
                                                margin_top = 10
                                                margin_bottom = 10
                                                texture = "gfx/interface/component_tiles/tile_dark_area_02.dds"
                                                spriteType = Corneredtiled
                                                spriteborder = { 20 20 }
                                                modify_texture = {
                                                    name = "mask"
                                                    texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                                                    spriteType = Corneredstretched
                                                    spriteborder = { 10 5 }
                                                    blend_mode = alphamultiply
                                                }
                                            }
                                            button = {
                                                texture = "gfx/interface/icons/message_feed/tier_up.dds"
                                                size = { 50 50 }
                                                tooltip = PROPOGANDA_CAMPAIGN
                                                onclick = "[GetScriptedGui('start_propoganda_campaign').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('house_adding',Scope.House.MakeScope).End)]"
                                            }
                                            spacer = { size = { 15 0 } }
                                            button = {
                                                enabled = "[GetScriptedGui('can_use_non_propoganda_abilities').IsValid(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('scoped_house',Scope.House.MakeScope).End)]"
                                                texture = "gfx/interface/icons/message_feed/county_corruption.dds"
                                                size = { 50 50 }
                                                tooltip = SMEAR_CAMPAIGN
                                                onclick = "[GetScriptedGui('start_smear_campaign').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('house_adding',Scope.House.MakeScope).End)]"
                                            }
                                            spacer = { size = { 15 0 } }
                                            button = {
                                                enabled = "[GetScriptedGui('can_use_non_propoganda_abilities').IsValid(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('scoped_house',Scope.House.MakeScope).End)]"
                                                texture = "gfx/interface/icons/message_feed/council.dds"
                                                size = { 50 50 }
                                                tooltip = BUY_FAVOR
                                                onclick = "[GetScriptedGui('buy_favor').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('target_recipient',Scope.House.GetHeadOfHouse.MakeScope).End)]"
                                            }
                                        }
                                        expand = {}
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }

    type republic_bicameral_view = window {
        size = { 980 950 }
        position = { -900 75 }
        layer = middle
        allow_outside = yes
        visible = "[GetVariableSystem.Exists('window_republic_bicameral_form')]"
        window_republic_form_senate = {}
    
        using = Window_Background
        using = Window_Decoration
        using = Animation_ShowHide_Standard
        vbox = {
            using = Window_Margins
    
            header_pattern = {
                layoutpolicy_horizontal = expanding
    
                blockoverride "header_text"
                {
                    text = "CONSTITUTIONAL_VIEW"
                }
    
                blockoverride "button_close"
                {
                    onclick = "[GetVariableSystem.Clear( 'window_republic_form' )]"
                    onclick = "[GetVariableSystem.Clear( 'window_republic_bicameral_form' )]"
                }
            }
            hbox = {
                using = Window_Margins
                layoutpolicy_horizontal = expanding
                margin_bottom = 5

                button_tab = {
                    layoutpolicy_horizontal = expanding
                    onclick = "[GetVariableSystem.Set( 'bicameral_view_tabs', 'maintab' )]"
                    down = "[GetVariableSystem.HasValue( 'bicameral_view_tabs', 'maintab' )]"
                        
                    text_single = {
                        text = "Houses"
                        parentanchor = center
                            
                        maximumsize = { 300 -1 }
                        default_format = "#low"
                    }
                }
                button_tab = {
                    layoutpolicy_horizontal = expanding
                    onclick = "[GetVariableSystem.Set( 'bicameral_view_tabs', 'laws' )]"
                    down = "[GetVariableSystem.HasValue( 'bicameral_view_tabs', 'laws' )]"
                    text_single = {
                        text = "Laws"
                        parentanchor = center
                            
                        maximumsize = { 300 -1 }
                        default_format = "#low"
                    }
                }
                button_tab = {
                    layoutpolicy_horizontal = expanding
                    onclick = "[GetVariableSystem.Set( 'bicameral_view_tabs', 'citizenship' )]"
                    down = "[GetVariableSystem.HasValue( 'bicameral_view_tabs', 'citizenship' )]"
                    text_single = {
                        text = "Citizenship Laws"
                        parentanchor = center
                            
                        maximumsize = { 300 -1 }
                        default_format = "#low"
                    }
                }
                expand = {}
            }
            vbox = {
                name = "houses"
                layoutpolicy_horizontal = expanding
                layoutpolicy_vertical = expanding

                visible = "[GetVariableSystem.HasValue( 'bicameral_view_tabs', 'maintab' )]"

                button = {
                    texture = "gfx/interface/icons/banners/banner_blue_center.dds"
                    text = "HIGH_HOUSE"
                    fontsize = 20
                    size = { 200 60 }
                }

                scrollarea = {
                    name = "upper_house_scrollarea"
                    size = { 880 250 }
                    scrollbarpolicy_vertical = always_off

                    scrollbar_horizontal = {
                        using = Scrollbar_Horizontal
                    }
                    scrollwidget = {
                        dynamicgridbox = {
                            layoutpolicy_vertical = expanding
                            layoutpolicy_horizontal = expanding
                            allow_outside = yes
                            ignoreinvisible = yes
                            maxverticalslots = 1
                            maxhorizontalslots = 100
                            flipdirection = yes
                            block "datamodel" {
                                datamodel = "[GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.GetList('republic_families_list')]"
                            }
                            item = {
                                widget = {
                                    datacontext = "[Scope.House]"
                                    visible = "[DynastyHouse.GetHeadOfHouse.IsValid]"
                                    block "size" {
                                        size = { 249 250 }
                                    }
                                    vbox = {
                                        background = {
                                            texture = "gfx/interface/illustrations/council/bg_council_chancellor.dds"
                                            alpha = 0.3
                                            modify_texture = {
                                                name = "mask"
                                                texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                                                spriteType = Corneredstretched
                                                spriteborder = { 0 0 }
                                                blend_mode = alphamultiply
                                            }
                                        }
                                        hbox = {
                                            vbox = {
                                                text_single = {
                                                    minimumsize = { 120 -1 }
                                                    text = "HOUSE_VIEW_NAME_WITH_HOUSE"
                                                    fontsize = 16
                                                    default_format = "#high"
                                                }
                                                coa_house_medium = {}
                                            }
                                            vbox = {
                                                layoutpolicy_vertical = expanding
                                                datacontext = "[DynastyHouse.GetHeadOfHouse]"
                                                text_single = {
                                                    text = "HOUSE_PATRICIAN"
                                                    fontsize = 16
                                                }
                                                portrait_head_small = {}
                                            }
                                        }
                                        spacer = {
                                            size = { 10 0 }
                                        }
                                        vbox = {
                                            layoutpolicy_vertical = expanding
                                            hbox = {
                                                text_single = {
                                                    text = "HOUSE_RESPECT"
                                                    fontsize = 16
                                                }
                                                spacer = { size = { 2 0 } }
                                                text_single = {
                                                    text = "[DynastyHouse.MakeScope.ScriptValue('family_respect')|0]"
                                                    fontsize = 16
                                                }
                                            }
                                            hbox = {
                                                text_single = {
                                                    text = "HOUSE_ELECTEE"
                                                    fontsize = 16
                                                }
                                                spacer = { size = { 5 0 } }
                                                dynamicgridbox = {
                                                    datacontext = "[Scope.House]"
                                                    layoutpolicy_vertical = expanding
                                                    ignoreinvisible = yes
                                                    allow_outside = yes
                                                    maxhorizontalslots = 1
                                                    maxverticalslots = 100
                                                    block "datamodel" {
                                                        datamodel = "[DynastyHouse.MakeScope.GetList('election_candidates')]"
                                                    }
                                                    item = {
                                                        text_single = {
                                                            text = "REP_TYPES_WIND_UNIUI_CHAR_NAME"
                                                            fontsize = 16
                                                        }
                                                    }
                                                }
                                            }
                                            expand = {}
                                        }
                                        expand = {}
                                    }
                                }
                            }
                        }
                    }
                }

                spacer = { size = { 0 20 } }

                button = {
                    texture = "gfx/interface/icons/banners/banner_blue_center.dds"
                    text = "HOUSE_OF_COMMONS"
                    fontsize = 20
                    size = { 300 60 }
                }

                scrollarea = {
                    name = "lower_house_scrollarea"
                    size = { 880 300 }
                    scrollbarpolicy_vertical = always_off

                    scrollbar_horizontal = {
                        using = Scrollbar_Horizontal
                    }
                    scrollwidget = {
                        dynamicgridbox = {
                            layoutpolicy_vertical = expanding
                            layoutpolicy_horizontal = expanding
                            allow_outside = yes
                            ignoreinvisible = yes
                            maxverticalslots = 1
                            maxhorizontalslots = 100
                            flipdirection = yes
                            block "datamodel" {
                                datamodel = "[GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.GetList('lower_house_counties')]"
                            }
                            item = {
                                widget = {
                                    datacontext = "[Scope.Title]"
                                    block "size" {
                                        size = { 249 300 }
                                    }
                                    vbox = {
                                        background = {
                                            texture = "gfx/interface/illustrations/council/bg_council_spouse.dds"
                                            alpha = 0.3
                                            modify_texture = {
                                                name = "mask"
                                                texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                                                spriteType = Corneredstretched
                                                spriteborder = { 0 0 }
                                                blend_mode = alphamultiply
                                            }
                                        }
                                        coa_title_medium = {}
                                        text_single = {
                                            text = "REP_TYPES_WIND_UNIUI_TITLE_NAME"
                                            default_format = "#high"
                                            fontsize = 18
                                        }
                                        hbox = {
                                            text_single = {
                                                text = "Development:"
                                            }
                                            spacer = { size = { 2 0 } }
                                            text_single = {
                                                text = "[Scope.Title.GetCountyData.GetDevelopmentLevel|0]"
                                            }
                                        }
                                        hbox = {
                                            text_single = {
                                                text = "Control:"
                                            }
                                            spacer = { size = { 2 0 } }
                                            text_single = {
                                                text = "[Scope.Title.GetCountyData.GetControl|0]"
                                            }
                                        }
                                        hbox = {
                                            text_single = {
                                                text = "Culture:"
                                            }
                                            spacer = { size = { 2 0 } }
                                            text_single = {
                                                text = "[Scope.Title.GetCountyData.GetCulture.GetName]"
                                            }
                                        }
                                        hbox = {
                                            text_single = {
                                                text = "Faith:"
                                            }
                                            spacer = { size = { 2 0 } }
                                            text_single = {
                                                text = "[Scope.Title.GetCountyData.GetFaith.GetName]"
                                            }
                                        }
                                        hbox = {
                                            text_single = {
                                                text = "Votes:"
                                            }
                                            spacer = { size = { 2 0 } }
                                            text_single = {
                                                text = "[Scope.Title.MakeScope.ScriptValue('votes_of_county')|0]"
                                            }
                                        }
                                        expand = {}
                                    }
                                }
                            }
                        }
                    }
                }

                spacer = { size = { 0 10 } }

                hbox = {
                    text_single = {
                        text = "WAR_ATTITUDE"
                        tooltip = WAR_ATTITUDE_TT
                        fontsize = 18
                        align = center
                        minimumsize = { 200 -1 }
                    }
                    text_single = {
                        text = "RELIGIOUS_ATTITUDE"
                        tooltip = RELIGIOUS_ATTITUDE_TT
                        fontsize = 18
                        align = center
                        minimumsize = { 200 -1 }
                    }
                    text_single = {
                        text = "CULTURE_ATTITUDE"
                        tooltip = CULTURE_ATTITUDE_TT
                        fontsize = 18
                        align = center
                        minimumsize = { 200 -1 }
                    }
                    text_single = {
                        text = "WELCOMING_ATTITUDE"
                        tooltip = WELCOMING_ATTITUDE_TT
                        fontsize = 18
                        align = center
                        minimumsize = { 200 -1 }
                    }
                }
                spacer = { size = { 0 10 } }
                button_tertiary = {
                    text = "REFORM_GOVERNMENT"
                    onclick = "[GetVariableSystem.Toggle('window_republic_form')]"
                }
                expand = {}
            }
            vbox = {
                name = "laws"
                layoutpolicy_horizontal = expanding
                layoutpolicy_vertical = expanding
                visible = "[GetVariableSystem.HasValue( 'bicameral_view_tabs', 'laws' )]"
                hbox = {
                    layoutpolicy_horizontal = expanding
                    layoutpolicy_vertical = expanding
                    vbox = {
                        text_single = {
                            text = "PASSED_LAWS"
                            fontsize = 24
                        }
                        spacer = { size = { 0 5 } }
                        scrollbox = {
                            name = "republic_laws_scrollarea"
                            layoutpolicy_horizontal = expanding
                            layoutpolicy_vertical = expanding
                            #size = {100% 100%}
                            size = { 440 550 }
                            background = {
                                texture = "gfx/interface/illustrations/lifestyles_background/stewardship_lifestyle.dds"
                                alpha = 0.3
                                modify_texture = {
                                    name = "mask"
                                    texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                                    spriteType = Corneredstretched
                                    spriteborder = { 0 0 }
                                    blend_mode = alphamultiply
                                }
                            }
                            blockoverride "scrollbox_content"
                            {
                                dynamicgridbox = {
                                    layoutpolicy_vertical = expanding
                                    allow_outside = yes
                                    ignoreinvisible = yes
                                    maxhorizontalslots = 1
                                    maxverticalslots = 100
                                    block "datamodel" {
                                        datamodel = "[GetGlobalList('bicameral_laws_list')]"
                                    }
                                    item = {
                                        visible = "[GetScriptedGui(Concatenate('government_has_',Scope.GetFlagName,)).IsShown(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                                        widget = {
                                            visible = "[GetScriptedGui(Concatenate('government_has_',Scope.GetFlagName,)).IsShown(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                                            block "size" {
                                                size = { 380 80 }
                                            }
                                            vbox = {
                                                hbox = {
                                                    text_single = {
                                                        text = "[Localize(Concatenate(Scope.GetFlagName,'_name'))]"
                                                        fontsize = 20
                                                        align = center
                                                    }
                                                    expand = {}
                                                }
                                                expand = {}
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }

                    vbox = {
                        text_single = {
                            text = "POSSIBLE_LAWS"
                            fontsize = 24
                        }
                        spacer = { size = { 0 5 } }
                        scrollbox = {
                            name = "republic_proposables_scrollarea"
                            layoutpolicy_horizontal = expanding
                            layoutpolicy_vertical = expanding
                            #size = {100% 100%}
                            size = { 440 550 }
                            background = {
                                texture = "gfx/interface/illustrations/lifestyles_background/diplomacy_lifestyle.dds"
                                alpha = 0.3
                                modify_texture = {
                                    name = "mask"
                                    texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                                    spriteType = Corneredstretched
                                    spriteborder = { 0 0 }
                                    blend_mode = alphamultiply
                                }
                            }
                            blockoverride "scrollbox_content"
                            {
                                dynamicgridbox = {
                                    layoutpolicy_vertical = expanding
                                    allow_outside = yes
                                    ignoreinvisible = yes
                                    maxhorizontalslots = 1
                                    maxverticalslots = 100
                                    block "datamodel" { 
                                        datamodel = "[GetGlobalList('bicameral_laws_list')]"
                                    }
                                    item = {
                                        widget = {
                                            visible = "[Not(GetScriptedGui(Concatenate('government_has_',Scope.GetFlagName,)).IsShown(GuiScope.SetRoot(GetPlayer.MakeScope).End))]"
                                            block "size" {
                                                size = { 380 120 }
                                            }
                                            vbox = {
                                                hbox = {
                                                    text_single = {
                                                        text = "[Localize(Concatenate(Scope.GetFlagName,'_name'))]"
                                                        fontsize = 20
                                                        align = center
                                                    }
                                                    expand = {}
                                                }
                                                spacer = {
                                                    size = { 0 10 }
                                                }
                                                button_tertiary = {
                                                    tooltip = PROPOSE_TT
                                                    datacontext = "[GetScriptedGui(Concatenate('government_has_',Scope.GetFlagName))]"
                                                    onclick = "[ScriptedGui.Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                                                    text = "Propose"
                                                    clicksound = "event:/SFX/UI/Notifications/TopBar/sfx_ui_notifications_topbar_diplomacy"
                                                }
                                                expand = {}
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                text_single = {
                    text = "PROPOSED_LAWS"
                    fontsize = 20
                }
                spacer = { size = { 0 10 } }
                scrollarea = {
                    name = "proposed_laws_scrollarea"
                    layoutpolicy_horizontal = expanding
                    layoutpolicy_vertical = expanding
                    size = { 900 130 }
                    scrollbarpolicy_vertical = always_off

                    scrollbar_horizontal = {
                        using = Scrollbar_Horizontal
                    }

                    scrollwidget = {
                        dynamicgridbox = {
                            layoutpolicy_vertical = expanding
                            layoutpolicy_horizontal = expanding
                            allow_outside = yes
                            ignoreinvisible = yes
                            maxverticalslots = 1
                            maxhorizontalslots = 100
                            flipdirection = yes
                            block "datamodel" {
                                datamodel = "[GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.GetList('proposed_laws_list')]"
                            }
                            item = {
                                widget = {
                                    block "size" {
                                        size = { 250 130 }
                                    }
                                    vbox = {
                                        icon = {
                                            texture = "gfx/interface/icons/message_feed/generic_good_effect.dds"
                                            size = { 80 80 }
                                        }
                                        text_single = {
                                            text = "[Localize(Concatenate(Scope.GetFlagName,'_name'))]"
                                            fontsize = 18
                                            align = center
                                        }
                                        expand = {}
                                    }
                                }
                            }
                        }
                    }
                }
            }
            vbox = {
                name = "citizenship"
                layoutpolicy_horizontal = expanding
                layoutpolicy_vertical = expanding
                background = {
                    texture = "gfx/interface/illustrations/council/bg_council_chancellor.dds"
                    alpha = 0.6
                    modify_texture = {
                        name = "mask"
                        texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                        spriteType = Corneredstretched
                        spriteborder = { 0 0 }
                        blend_mode = alphamultiply
                    }
                }
                visible = "[GetVariableSystem.HasValue( 'bicameral_view_tabs', 'citizenship' )]"
                spacer = { size = { 0 20 } }
                text_single = {
                    text = "Cultural Citizenship"
                    fontsize = 20
                    default_format = "#bold"
                }
                spacer = { size = { 0 10 } }
                hbox = {
                    background = {
                        margin_left = 5
                        margin_right = 15
                        margin_top = 10
                        margin_bottom = 10
                        texture = "gfx/republic/solid_black_label.dds"
                        spriteType = Corneredtiled
                        spriteborder = { 20 20 }
                        modify_texture = {
                            name = "mask"
                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                            spriteType = Corneredstretched
                            spriteborder = { 10 5 }
                            blend_mode = alphamultiply
                        }
                    }
                    icon = {
                        texture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"
                        size = { 366 146 }
                        modify_texture = {
                            name = "mask"
                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                            spriteType = Corneredstretched
                            spriteborder = { 0 0 }
                            blend_mode = alphamultiply
                        }
                    }
                    dynamicgridbox = {
                        layoutpolicy_vertical = expanding
                        allow_outside = yes
                        ignoreinvisible = yes
                        maxhorizontalslots = 1
                        maxverticalslots = 100
                        block "datamodel" { 
                            datamodel = "[GetGlobalList('bicameral_culture_citizenship_list')]"
                        }
                        item = {
                            widget = {
                                block "size" {
                                    size = { 150 48 }
                                }
                                vbox = {
                                    button_standard = {
                                        tooltip = PROPOSE_TT
                                        text = "[Localize(Concatenate(Scope.GetFlagName,'_name'))]"
                                        size = { 150 48 }
                                        enabled = "[And(GetScriptedGui(Concatenate(Scope.GetFlagName,'_propose')).IsValid(GuiScope.SetRoot(GetPlayer.MakeScope).End),Not(GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.Var(Scope.GetFlagName).IsSet))]"
                                        onclick = "[GetScriptedGui(Concatenate(Scope.GetFlagName,'_propose')).Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                                    }
                                    expand = {}
                                }
                            }
                        }
                    }
                }
                spacer = { size = { 0 20 } }
                text_single = {
                    text = "Religious Citizenship"
                    fontsize = 20
                    default_format = "#bold"
                }
                spacer = { size = { 0 10 } }
                hbox = {
                    background = {
                        margin_left = 5
                        margin_right = 15
                        margin_top = 10
                        margin_bottom = 10
                        texture = "gfx/republic/solid_black_label.dds"
                        spriteType = Corneredtiled
                        spriteborder = { 20 20 }
                        modify_texture = {
                            name = "mask"
                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                            spriteType = Corneredstretched
                            spriteborder = { 10 5 }
                            blend_mode = alphamultiply
                        }
                    }
                    icon = {
                        texture = "gfx/interface/illustrations/decisions/decision_personal_religious.dds"
                        size = { 366 146 }
                        modify_texture = {
                            name = "mask"
                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                            spriteType = Corneredstretched
                            spriteborder = { 0 0 }
                            blend_mode = alphamultiply
                        }
                    }
                    dynamicgridbox = {
                        layoutpolicy_vertical = expanding
                        allow_outside = yes
                        ignoreinvisible = yes
                        maxhorizontalslots = 1
                        maxverticalslots = 100
                        block "datamodel" { 
                            datamodel = "[GetGlobalList('bicameral_faith_citizenship_list')]"
                        }
                        item = {
                            widget = {
                                block "size" {
                                    size = { 150 48 }
                                }
                                vbox = {
                                    button_standard = {
                                        tooltip = PROPOSE_TT
                                        text = "[Localize(Concatenate(Scope.GetFlagName,'_name'))]"
                                        size = { 150 48 }
                                        enabled = "[And(GetScriptedGui(Concatenate(Scope.GetFlagName,'_propose')).IsValid(GuiScope.SetRoot(GetPlayer.MakeScope).End),Not(GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.Var(Scope.GetFlagName).IsSet))]"
                                        onclick = "[GetScriptedGui(Concatenate(Scope.GetFlagName,'_propose')).Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                                    }
                                    expand = {}
                                }
                            }
                        }
                    }
                }
                spacer = { size = { 0 20 } }
                text_single = {
                    text = "National Hierarchy Citizenship"
                    fontsize = 20
                    default_format = "#bold"
                }
                spacer = { size = { 0 10 } }
                hbox = {
                    background = {
                        margin_left = 5
                        margin_right = 15
                        margin_top = 10
                        margin_bottom = 10
                        texture = "gfx/republic/solid_black_label.dds"
                        spriteType = Corneredtiled
                        spriteborder = { 20 20 }
                        modify_texture = {
                            name = "mask"
                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                            spriteType = Corneredstretched
                            spriteborder = { 10 5 }
                            blend_mode = alphamultiply
                        }
                    }
                    icon = {
                        texture = "gfx/interface/illustrations/decisions/decision_realm.dds"
                        size = { 366 146 }
                        modify_texture = {
                            name = "mask"
                            texture = "gfx/interface/component_masks/mask_rough_edges.dds"
                            spriteType = Corneredstretched
                            spriteborder = { 0 0 }
                            blend_mode = alphamultiply
                        }
                    }
                    dynamicgridbox = {
                        layoutpolicy_vertical = expanding
                        allow_outside = yes
                        ignoreinvisible = yes
                        maxhorizontalslots = 1
                        maxverticalslots = 100
                        block "datamodel" { 
                            datamodel = "[GetGlobalList('bicameral_hierarchy_citizenship_list')]"
                        }
                        item = {
                            widget = {
                                block "size" {
                                    size = { 150 48 }
                                }
                                vbox = {
                                    button_standard = {
                                        tooltip = PROPOSE_TT
                                        enabled = "[And(GetScriptedGui(Concatenate(Scope.GetFlagName,'_propose')).IsValid(GuiScope.SetRoot(GetPlayer.MakeScope).End),Not(GetPlayer.GetLiege.GetPrimaryTitle.MakeScope.Var(Scope.GetFlagName).IsSet))]"
                                        text = "[Localize(Concatenate(Scope.GetFlagName,'_name'))]"
                                        size = { 150 48 }
                                        onclick = "[GetScriptedGui(Concatenate(Scope.GetFlagName,'_propose')).Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
                                    }
                                    expand = {}
                                }
                            }
                        }
                    }
                }
                expand = {}
            }
        }
    }
}

types SenateButtons
{
    type button_select_arrow_down = button_icon_custom
    {
        size = { 20 20 }
        texture = "gfx/interface/icons/flat_icons/icon_down.dds"
    }
    type button_icon_list_1 = button_icon_custom
    {
        texture = "gfx/interface/icons/message_feed/generic_neutral_effect.dds"
        size = { 25 25 }
    }

    type button_panel_down = button_standard {
        size = { 400 33 }

        hbox = {
            layoutpolicy_horizontal = expanding
            margin = { 5 0 }

            spacer = {
                size = { 20 20 }
            }

            expand = {}

            text_single = {
                layoutpolicy_horizontal = expanding
                align = center|nobaseline
                default_format = "#clickable"
                autoresize = no
                fontsize = 24

                block "button_text"{}
            }

            expand = {}

            button_select_arrow_down = {
                size = { 20 20 }
                alwaystransparent = yes
            }
        }
    }
    type button_panel_down_list_1 = button_standard {
        size = { 400 30 }

        hbox = {
            layoutpolicy_horizontal = expanding
            margin = { 5 0 }

            button_icon_list_1 = {}

            expand = {}

            text_single = {
                layoutpolicy_horizontal = expanding
                align = center|nobaseline
                default_format = "#clickable"
                autoresize = no
                fontsize = 20

                block "button_text"{}
            }

            expand = {}

            button_select_arrow_down = {
                size = { 20 20 }
                alwaystransparent = yes
            }
        }
    }
}
